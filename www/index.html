<!DOCTYPE html>

<!--<html>
	<head>
		<meta charset="utf-8">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0">
		<title>KLADemo</title>
		<script id="sap-ui-bootstrap"
			src="../../resources/sap-ui-core.js"
			data-sap-ui-theme="sap_belize"
			data-sap-ui-resourceroots='{"KLADemo.KLADemo": "./"}'
			data-sap-ui-compatVersion="edge"
			data-sap-ui-oninit="module:sap/ui/core/ComponentSupport"
			data-sap-ui-async="true"
			data-sap-ui-frameOptions="trusted">
		</script>
	</head>
	<body class="sapUiBody">
		<div data-sap-ui-component data-name="KLADemo.KLADemo" data-id="container" data-settings='{"id" : "KLADemo"}'></div>
	</body>
</html>-->

<!-- Taken from the FlashbrandTest -->
<html>
<head>
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta charset="UTF-8">
    <title>KLADemo</title>
    <script id="sap-ui-bootstrap"
            src="resources/sap-ui-core.js"
            data-sap-ui-libs="sap.m"
            data-sap-ui-theme="sap_belize"
            data-sap-ui-compatVersion="edge"
            data-sap-ui-resourceroots='{"KLADemo": ""}'>
    </script>
    <!-- Jay - add this Cordova files -->
    <script type="text/javascript" src="/www/WinJS/js/base.js"></script>
    <script type="text/javascript" src="cordova.js"></script>


    <link rel="stylesheet" type="text/css" href="css/style.css">
    <script>

        /* Jay - Original code from SAP UI5 Template app
        sap.ui.getCore().attachInit(function () {
            new sap.m.Shell({
                app: new sap.ui.core.ComponentContainer({
                    height: "100%",
                    name: "KLADemo"
                })
            }).placeAt("content");
        }); */

        ///////////////////////////////////////////////////////
        //Jay - New code: add this reference to the devapp Cordova plugin
        jQuery.sap.require("KLADemo.dev.devapp");

        function getUrlParameterName(sParam) {
            var sPageURL = window.location.search.substring(1);
            var sURLVariables = sPageURL.split('&');
            for (var i = 0; i < sURLVariables.length; i++) {
                var sParameterName = sURLVariables[i].split('=');
                if (sParameterName[0] == sParam) {
                    return true;
                }
            }
            return false;
        }

        function startApp() {
            sap.ui.getCore().attachInit(function () {
                new sap.m.Shell({
                    app: new sap.ui.core.ComponentContainer({
                        height: "100%",
                        name: "KLADemo"
                    })
                }).placeAt("content");
            });
        }

        window.onload = function () {
            if (window.cordova || getUrlParameterName("companionbuster")) {
                var page = window.location.pathname.split("/").pop();
                if (page === "extended_runnable_file.html") {
                    window.sap_webide_FacadePreview = true;
                }
                KLADemo.dev.devapp.initialize();
            }
            else {
                startApp();
            }
        }



    </script>
</head>
<body class="sapUiBody" id="content">
</body>
</html>