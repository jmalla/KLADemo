(function(){"use strict";jQuery.sap.require("sap.ui.comp.smartfield.SmartField");jQuery.sap.require("sap.suite.ui.generic.template.js.StableIdHelper");jQuery.sap.declare("sap.suite.ui.generic.template.js.AnnotationHelper");var L=sap.ui.require("sap/base/Log");function E(e,m){var o=m[e];var d=o&&o["sap.ui.generic.app"];return!!(d&&d.enableLazyLoading);}function h(l,s){return!!(l.name&&s&&s.some(function(S){return l.name===S.entitySet;}));}function g(s,d,p,i,P,n){var e=i?"":" && !${ui>/editable}";return"{= ${_templPriv>/generic/supportedIntents/"+s+"/"+d+"/"+p+"/supported}"+e+" ? "+P+" : "+n+"}";}function a(l,s,d,m,e){var n;if(d){n=d.split("/")[0];}if(l&&s){for(var i=0;i<s.length;i++){if(l===s[i].entitySet&&(!n||n===s[i].navigationProperty)&&s[i].navigation&&s[i].navigation[m]){if(e){if(s[i].component&&s[i].component.settings&&s[i].component.settings.hideChevronForUnauthorizedExtNav){return s[i].navigation[m].target;}}else{return s[i].navigation[m].target;}}}}return null;}function b(l,s,m,d,i,f,t){var p=f?"1":"Navigation";if(t){return p;}var n=f?"0":"Inactive";var e=f?"":"'";var o=a(l.name,s,d,"display",true);if(o){var C=m["sap.app"].crossNavigation.outbounds[o];var S=C.semanticObject;var j=C.action;var P=l.name+(d?("::"+d.split("/")[0]):"");return g(S,j,P,i,e+p+e,e+n+e);}if(h(l,s)){return i?p:"{= ${ui>/editable} ? "+e+n+e+" : "+e+p+e+" }";}return n;}function c(l,s,m,d,i){return b(l,s,m,d,i,true);}var A={getBindingForHiddenPath:function(H){if(H["com.sap.vocabularies.UI.v1.Hidden"]){if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Path")){return"{= !${"+H["com.sap.vocabularies.UI.v1.Hidden"].Path+"} }";}else if(H["com.sap.vocabularies.UI.v1.Hidden"].hasOwnProperty("Bool")){if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="true"){return false;}else if(H["com.sap.vocabularies.UI.v1.Hidden"].Bool==="false"){return true;}else{L.error(H["com.sap.vocabularies.UI.v1.Hidden"].Bool+" is not a boolean value");return true;}}else{return false;}}else{return true;}},getCustomDataForContactPopup:function(C){return((JSON.stringify(C)).replace(/\}/g,"\\}").replace(/\{/g,"\\{"));},renderColumnForConnectedFields:function(C){var d=function(D){return((D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&!(D.Inline&&D.Inline.Bool==="true"));};if(C.length){if(!C.every(d)){return"true";}else{return"false";}}else{return"false";}},renderColumnHeader:function(C){var d=function(D){return(D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||D.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation");};if(C.length){if(C.every(d)){return"true";}else{return"false";}}},createP13NColumnForConnectedFields:function(I,e,C,o,d,D,f){var p="",s="",P={},k={},l=[],m;var n=I.getInterface(0);var M=I.getInterface(1).getModel();var q=[];var N=[];var r=[];var t="false";o=o&&o.Data;for(var i=0;i<o.length;i++){d=o[i];M=I.getInterface(0).getModel();k=M.getODataEntityType(M.getContext(I.getInterface(0).getPath()).getObject().entityType);if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(d.Target.AnnotationPath.indexOf("/")>0){var u=d.Target.AnnotationPath.split("/")[0];var v=d.Target.AnnotationPath.split("/")[1].split("@")[1];k=M.getODataEntityType(M.getODataAssociationEnd(k,u).type);f=k[v];}else{f=k[d.Target.AnnotationPath.split("@")[1]];}}if(((d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&d.Inline&&d.Inline.Bool==="true")||d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"||d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForAction(n,d);}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataField"){var S=sap.suite.ui.generic.template.js.AnnotationHelper.getRelevantDataForDataField(M,d.Value.Path,k);k=S.entityType;var w=S.dataFieldValuePath;l=(k&&k.property)||[];for(var j=0;j<l.length;j++){if(l[j].name===w){D=l[j];break;}}p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13N(I,e,D,d);}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(d.Target.AnnotationPath.indexOf("com.sap.vocabularies.Communication.v1.Contact")>=0){p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForContactPopUp(I,e,d,f,d.Target.AnnotationPath);}else if(d.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Chart")>=0){p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForChart(I,e,d,f,d.Target.AnnotationPath);}else if(f.Visualization){p=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForIndicator(I,e,D,d,f,f.Value,d.Target.AnnotationPath);}}if(p){P=JSON.parse(p.replace(/\\/g,""));}if(!q.length&&P.leadingProperty){q.push(P.leadingProperty);}else{P.leadingProperty&&(r.indexOf(P.leadingProperty)===-1)?r.push(P.leadingProperty):jQuery.noop;}P.navigationProperty&&(N.indexOf(P.navigationProperty)===-1)?N.push(P.navigationProperty):jQuery.noop;P.additionalProperty&&(r.indexOf(P.additionalProperty)===-1)?r.push(P.additionalProperty):jQuery.noop;if(t==="false"){t=P.actionButton;}}p="";s=sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnKey(C);m=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(I.getInterface(1));p='\\{"columnKey":"'+s;p+='", "columnIndex":"'+m;p+='", "sortProperty":"'+"";p+='", "filterProperty":"'+"";if(q.length>0){p+='", "leadingProperty":"'+q.join();}if(N.length>0){p+='", "navigationProperty":"'+N.join();}if(r.length>0){p+='", "additionalProperty":"'+r.join();}p+='", "actionButton":"'+t+'"';p+=' \\}';return p;},buildDeleteButtonEnablementExpression:function(f,t){var B=sap.suite.ui.generic.template.js.StableIdHelper.getStableId({type:"ObjectPageAction",subType:"Delete",sFacet:sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)});return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";},tabItemHasPresentationVariant:function(e,v){var V=e[v];return!!(V&&(V.PresentationVariant||V.Visualizations||V.SortOrder));},getPresentationVariant:function(v,e){if(v.Visualizations||v.SortOrder){return v;}else if(v.PresentationVariant&&v.PresentationVariant.Path){return e[v.PresentationVariant.Path.replace('@','')];}else if(v.PresentationVariant){return sap.suite.ui.generic.template.js.AnnotationHelper.getPresentationVariant(v.PresentationVariant);}},getPresentationVariantVisualisation:function(e,v){var V=e[v];var p=sap.suite.ui.generic.template.js.AnnotationHelper.getPresentationVariant(V,e);if(p.Visualizations){return p.Visualizations[0].AnnotationPath.split('#')[1];}},getPresentationVariantSortOrder:function(e,v){var V=e[v];var p=sap.suite.ui.generic.template.js.AnnotationHelper.getPresentationVariant(V,e);if(p.SortOrder){return sap.suite.ui.generic.template.js.AnnotationHelper.getSortOrder(p.SortOrder);}},getSmartTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="listReport";if(s){r=r.concat(s);}return r;},getAnalyticalTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="analyticalTable";if(s){r=r.concat(s);}return r;},getGridTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="GridTable";if(s){r=r.concat(s);}return r;},getTreeTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="TreeTable";if(s){r=r.concat(s);}return r;},getRowActionsId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="rowActions";if(s){r=r.concat(s);}return r;},getResponsiveTableId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="responsiveTable";if(s){r=r.concat(s);}return r;},getAddEntryId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="addEntry";if(s){r=r.concat(s);}return r;},getDeleteEntryId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="deleteEntry";if(s){r=r.concat(s);}return r;},getShowDetailsId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="showDetails";if(s){r=r.concat(s);}return r;},getDraftObjectMarkerId:function(t){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r="DraftObjectMarker";if(s){r=r.concat(s);}return r;},getBreakoutActionButtonId:function(C,t){if(C.id){var s=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);var r=C.id;if(s){r=r.concat(s);}return r;}},getIconTabFilterKey:function(t){if(t){if(t.key){return t.key;}else{return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(t.annotationPath);}}},getSuffixFromIconTabFilterKey:function(t){var k=sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterKey(t);if(k){return"-".concat(k);}else{return"";}},getIconTabFilterText:function(i,m){var M,d,o,e,s,f;M=i.getModel();d=M.getData();o=d.metaModel;if(!!m.entitySet){e=o.getODataEntitySet(m.entitySet);s=e.entityType;}else{s=d.entityType;}f=o.getODataEntityType(s);var S=f[m.annotationPath];if(S&&S.Text){return S.Text.String;}},getAltTextForImage:function(d){if(d["com.sap.vocabularies.Common.v1.Text"]){return d["com.sap.vocabularies.Common.v1.Text"].String;}},getActionButtonVisibility:function(i,d){var s=d["Action"]&&d["Action"].String;s=s&&s.split("/")[1];if(s){var o=i.getModel().getODataFunctionImport(s);}return!!o;},buildAnnotatedActionButtonEnablementExpression:function(i,d,f,e,I,t,C){var F,B,s,m;s=d&&d.Action&&d.Action.String;if(s){B=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartForDatafieldActionButton(d,f,t,C);if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){if(!d.RequiresContext||d.RequiresContext.Bool!=="false"){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){m=i.getInterface(0).getModel();F=m.getODataFunctionImport(s);if(!F){L.error("The function import "+s+" is not defined in the metadata. Buttons that call this function import will not behave as expected.");return false;}else if(F["sap:action-for"]&&F["sap:action-for"]!==""&&F["sap:action-for"]!==" "){return"{= !!${_templPriv>/generic/controlProperties/"+B+"/enabled}}";}}return true;}},getLabelForDFwithIBN:function(i,d,e,G){var m,t,o,p,r;if(d.Label){return d.Label.String;}else{m=i.getInterface(0).getModel();if(m&&e){if(G&&G.Target&&G.Target.AnnotationPath){t=sap.suite.ui.generic.template.js.AnnotationHelper.getTargetEntitySet(m,e,G.Target.AnnotationPath);o=m.getODataEntityType(t.entityType);}else{o=m.getODataEntityType(e.entityType);}if(d.Value&&d.Value.Path){p=m.getODataProperty(o,d.Value.Path);r=(p["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}}}},getLinkTextForDFwithIBN:function(i,d,e,G){var o,t,p,r;var m=i.getInterface(0).getModel();if(m&&e){if(G&&G.Target&&G.Target.AnnotationPath){t=sap.suite.ui.generic.template.js.AnnotationHelper.getTargetEntitySet(m,e,G.Target.AnnotationPath);o=m.getODataEntityType(t.entityType);}else{o=m.getODataEntityType(e.entityType);}if(d.Value&&d.Value.Path){p=m.getODataProperty(o,d.Value.Path)||{};r=(p["com.sap.vocabularies.Common.v1.Text"]||d.Value).Path||"";return"{"+r+"}";}}},getTargetEntitySet:function(m,s,d){var n,N,e,o;n=d.split('/');if(n.length>1){N=n[0];}if(N){e=m.getODataEntityType(s.entityType);o=m.getODataAssociationSetEnd(e,N);if(o&&o.entitySet){return m.getODataEntitySet(o.entitySet);}}return s;},getApplicablePathForChartToolbarActions:function(I,C,e){var m=I.getInterface(0).getModel();var d=m.getODataEntityType(e);var f=(C&&C.Actions)||[];var F,j,o,k=[],l=[],s;for(var i=0;i<f.length;i++){if(f[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"&&(!f[i].Inline||f[i].Inline.Bool!=="true")&&(!f[i].Determining||f[i].Determining.Bool!=="true")){F=f[i].Action&&f[i].Action.String;j=m.getODataFunctionImport(F);if(j){k.push(j);}}}for(var i=0;i<k.length;i++){j=k[i];if(j&&j["sap:action-for"]&&j["sap:action-for"]!==""&&j["sap:action-for"]!==" "&&j["sap:applicable-path"]&&j["sap:applicable-path"]!==""&&j["sap:applicable-path"]!==" "){s=j["sap:applicable-path"];o=m.getODataProperty(d,s);if(o&&o["sap:aggregation-role"]==="dimension"){l.push(s);}else{L.error("AnnotationHelper.js - method getApplicablePathForChartToolbarActions: the applicable-path "+s+" is either pointing to an entity type property which doesn't exist or does not have 'sap:aggregation-role' set to to 'dimension'.");}}}if(l.length>0){return l.join();}},buildBreadCrumbExpression:function(C,t,T){var B,s=sap.ui.model.odata.AnnotationHelper.format(C,t);if(t&&t.Path&&T&&T.String){var d=T.String.replace(/'/g,"\\'");B="{= $"+s+" ? $"+s+" : '"+d+"' }";return B;}else{if(!s){return T&&T.String||"[[no title]]";}return s;}},buildRatingIndicatorSubtitleExpression:function(s){if(s){return"{parts: [{path: '"+s.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorSubTitle'}";}},formatRatingIndicatorSubTitle:function(s){if(s){var r=this.getModel("i18n").getResourceBundle();if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_SUBTITLE",[s,this.data("Subtitle")]);}else{var S=s>1?r.getText("RATING_INDICATOR_SUBTITLE_LABEL_PLURAL"):r.getText("RATING_INDICATOR_SUBTITLE_LABEL");return r.getText("RATING_INDICATOR_SUBTITLE",[s,S]);}}},buildRatingIndicatorFooterExpression:function(v,t){if(t){return"{parts: [{path: '"+v.Path+"'}, {path: '"+t.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";}return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorFooterText'}";},formatRatingIndicatorFooterText:function(v,t){if(v){var r=this.getModel("i18n").getResourceBundle();if(t){return r.getText("RATING_INDICATOR_FOOTER",[v,t]);}else if(this.getCustomData().length>0){return r.getText("RATING_INDICATOR_FOOTER",[v,this.data("Footer")]);}else{var R=sap.m.RatingIndicator.getMetadata().getPropertyDefaults().maxValue;return r.getText("RATING_INDICATOR_FOOTER",[v,R]);}}},buildRatingIndicatorAggregateCountExpression:function(v){return"{parts: [{path: '"+v.Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatRatingIndicatorAggregateCount'}";},formatRatingIndicatorAggregateCount:function(v){var r=this.getModel("i18n").getResourceBundle();var t;if(v){t=r.getText("RATING_INDICATOR_AGGREGATE_COUNT",[v]);}else if(this.getCustomData().length>0){t=r.getText("RATING_INDICATOR_AGGREGATE_COUNT",[this.data("AggregateCount")]);}else{t="";}return t;},getEditActionButtonVisibility:function(i,r,e,p,I){var m=i.getInterface(0).getModel();var s=e.entityType;if(sap.suite.ui.generic.template.js.AnnotationHelper._areUpdateRestrictionsValid(m,s,r)){var u="!${ui>/editable}";var n="!${DraftAdministrativeData/DraftIsCreatedByMe}";if(r){if(r.Updatable.Path){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,r.Updatable.Path,s);if(I){A.formatWithExpandSimple(i,{Path:"DraftAdministrativeData/DraftIsCreatedByMe"},e);return"{= ${"+r.Updatable.Path+"} && "+u+" && "+n+"}";}else{return"{= ${"+r.Updatable.Path+"} ? "+u+" : false}";}}else if(r.Updatable.Bool==="false"&&!p){return false;}}else if(I){A.formatWithExpandSimple(i,{Path:"DraftAdministrativeData/DraftIsCreatedByMe"},e);return"{= ("+n+" && "+u+") }";}return"{="+u+"}";}else{return false;}},getDeleteActionButtonVisibility:function(i,r,e,I){var m=i.getInterface(0).getModel();if(sap.suite.ui.generic.template.js.AnnotationHelper.areDeleteRestrictionsValid(m,e,r)){if(I){var u="!${ui>/editable}";}else{var u="!${ui>/createMode}";}if(r){if(r.Deletable.Path){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,r.Deletable.Path,e);return"{= ${"+r.Deletable.Path+"} ? "+u+" : false}";}else if(r.Deletable.Bool==="false"){return false;}}return"{="+u+"}";}else{return false;}},getSubObjPageDeleteActionButtonVisibility:function(i,r,e,I){var m=i.getInterface(0).getModel();var u;if(sap.suite.ui.generic.template.js.AnnotationHelper.areDeleteRestrictionsValid(m,e,r)){if(I==true){u="${ui>/editable}";}else{u="!${ui>/createMode}";}if(r){if(r.Deletable.Path){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,r.Deletable.Path,e);return"{= ${"+r.Deletable.Path+"} ? "+u+" : false}";}else if(r.Deletable.Bool==="false"){return false;}}return"{="+u+"}";}else{return false;}},getIdForMoreBlockContent:function(f){if(f["com.sap.vocabularies.UI.v1.PartOfPreview"]&&f["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){return"::MoreContent";}},checkMoreBlockContent:function(f){return sap.suite.ui.generic.template.js.AnnotationHelper.checkFacetContent(f,false);},checkBlockContent:function(f){return sap.suite.ui.generic.template.js.AnnotationHelper.checkFacetContent(f,true);},checkFacetContent:function(f,B){var p;var i=f.getInterface(0);var F=f.getModel().getProperty("",f);var d=f.getPath().split("/Facets");var C=i.getModel().getContext(d[0]);if(i.getModel().getProperty('',C).RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){return C.getPath();}else{if(!F){return;}for(var e=0;e<F.length;e++){if(!B){if(F[e]["com.sap.vocabularies.UI.v1.PartOfPreview"]&&F[e]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="false"){p=i.getPath()+"/"+e;break;}}else{if(F[e].RecordType!=="com.sap.vocabularies.UI.v1.ReferenceFacet"||(!F[e]["com.sap.vocabularies.UI.v1.PartOfPreview"]||F[e]["com.sap.vocabularies.UI.v1.PartOfPreview"].Bool==="true")){p=i.getPath()+"/"+e;break;}}}}return p;},isInlineCreate:function(f,s){var S=s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];return!!(S&&S.createMode&&S.createMode==="inline");},usesPreliminaryContext:function(f,s){var S=s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];return!!(S&&S.preliminaryContext);},isInlineCreateSorting:function(f,s){var S=s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];return!!(S&&S.disableDefaultInlineCreateSort);},determineTableType:function(f,s){var S;if(s&&s.sections){S=s.sections[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];}return(S&&(((S.tableType||S.treeTable))||(s&&s.tableType)));},isImageUrl:function(p){var s=p["com.sap.vocabularies.UI.v1.IsImageURL"]||p["com.sap.vocabularies.UI.v1.IsImageUrl"];if(s&&s.Bool&&s.Bool==="false"){return false;}else if(s){return true;}return false;},isPropertySemanticKey:function(I,e,p){var I=I.getInterface(0);var m=I.getModel();var o=m.getODataEntityType(e.entityType);if(o){var s=o["com.sap.vocabularies.Common.v1.SemanticKey"];if(s&&s.length>0){for(var i=0;i<s.length;i++){if(s[i].PropertyPath===p.Path){return true;}}}}return false;},_addFullPathToImageUrlIfNeeded:function(i,s){if(!i){return"";}if((i.substring(0,1)==="/")||(i.substring(0,11)==="sap-icon://")||(i.substring(0,7)==="http://")||(i.substring(0,8)==="https://")){return i;}else{return jQuery.sap.getModulePath(s,"/")+i;}},formatImageUrl:function(i,I,s,e){if(I&&(I.Path||I.Apply)&&e){A.formatWithExpandSimple(i,I);}if(I&&I.Path){return"{parts: [{path: '"+I.Path+"'}, {path: '_templPrivGlobal>/generic/appComponentName'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrlRuntime'}";}else if(I&&I.String){return A._addFullPathToImageUrlIfNeeded(I.String,s);}else if(I&&I.Apply){I.Apply.Parameters[0].Value=A._addFullPathToImageUrlIfNeeded(I.Apply.Parameters[0].Value,s);return sap.ui.model.odata.AnnotationHelper.format(i,I);}else{return"";}},hasImageUrl:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeader sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeader";}},hasImageUrlForHeaderTitle:function(i){if(i&&(i.Path||i.Apply||i.String)){return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithImage sapSmartTemplatesObjectPageDynamicPageHeaderImageDiv";}else{return"sapSmartTemplatesObjectPageDynamicPageHeaderTitle sapSmartTemplatesObjectPageDynamicPageHeaderTitleWithoutImage";}},formatImageOrTypeUrl:function(i,I,t,s,e){var o=null;if(I){o=I;}else{o=t;}return A.formatImageUrl(i,o,s,e);},getPathWithExpandFromHeader:function(i,e,n,I,t){var d=[],N;if((I||t)){var i=i.getInterface(0);var m=i.getModel();var o=m.getODataEntityType(e.entityType);var f=null;if(I){f=I;}else{f=t;}if(f&&f.Path&&o){var s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,f.Path);if(s){d.push(s);}}}if(d.length>0){if(d.length>1){d=d.filter(function(j,k,l){return k==l.indexOf(j);});}N="{ path : '"+n+"', parameters : { expand : '"+d.join(',')+"'} }";}else{N="{ path : '"+n+"' }";}if(N==="{}"){N="";}return N;},disableSemanticObjectLinksOnPopups:function(q,d){var i="";if(q&&q.ignoredFields&&d&&d.Value&&d.Value.Path){if(q.ignoredFields[d.Value.Path]){i=d.Value.Path;}}return i;},formatImageUrlRuntime:function(i,s){return A._addFullPathToImageUrlIfNeeded(i,s);},formatHeaderImage:function(i,H,s){if(H.ImageUrl){return A.formatImageUrl(i,H.ImageUrl,s,true);}else if(H.TypeImageUrl){return A.formatImageUrl(i,H.TypeImageUrl,s,true);}else{return"";}},matchesBreadCrumb:function(I,C,p){if(p){var s=p.split("/");var e,o,d;if(s.length>0){var m=I.getInterface(0).getModel();var f=s[0];for(var i=0;i<s.length;i++){if(i>0){e=m.getODataEntitySet(f);o=m.getODataEntityType(e.entityType);d=m.getODataAssociationSetEnd(o,s[i]);f=d.entitySet;}if((i+1)===s.length){if(f===C.name){return true;}else{return false;}}}}}},showFullScreenButton:function(r,f){if(r&&f){var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(r.component&&r.component.settings&&r.component.settings.sections&&r.component.settings.sections[F]&&r.component.settings.sections[F].tableMode==="FullScreenTable"){return true;}}return false;},getPersistencyKeyForSmartTable:function(r){return"listReportFloorplanTable";},getPersistencyKeyForDynamicPageTitle:function(r){return"listReportDynamicPageTitle";},getCreateNavigationIntent:function(l,s,d){return a(l,s,d,"create");},getDisplayNavigationIntent:function(l,s,d){return a(l,s,d,"display");},extensionPointFragmentExists:function(f,F){var i=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(i===F){return true;}else{return false;}},containsFormWithBreakoutAction:function(f,i){var C=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(C===i){if(f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&f.Target&&f.Target.AnnotationPath&&f.Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")!=-1){return true;}}return false;},formatWithExpandSimple:function(i,d,e){if(!d){return"";}var f=[],s,o;var m=i&&i.getModel&&i.getModel();if(!m){i=i.getInterface(0);m=i.getModel();}if(e){o=m.getODataEntityType(e.entityType);}else{var M=/^(\/dataServices\/schema\/\d+\/entityType\/\d+)(?:\/|$)/.exec(i.getPath());if(M&&M.length&&M[0]){var k=m.getProperty(M[0]);var n=m.getODataEntityContainer().namespace;o=m.getODataEntityType(n+'.'+k.name);}}if(o){if(d&&d.Path){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,d.Path);if(s){f.push(s);}}else if(d&&d.Apply&&d.Apply.Name==="odata.concat"){d.Apply.Parameters.forEach(function(P){if(P.Type==="Path"){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,P.Value);if(s){if(f.indexOf(s)===-1){f.push(s);}}}});}if(f.length>0){var p=i.getSetting("preprocessorsData");if(p){var r=p.rootContextExpand||[];for(var j=0;j<f.length;j++){if(r.indexOf(f[j])===-1){r.push(f[j]);}}p.rootContextExpand=r;}}}return sap.ui.model.odata.AnnotationHelper.format(i,d);},formatWithExpand:function(i,d,e){sap.suite.ui.generic.template.js.AnnotationHelper.getNavigationPathWithExpand(i,d,e);i=i.getInterface(0);sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpandSimple(i,d,e);return sap.ui.model.odata.AnnotationHelper.format(i,d);},_getNavigationPrefix:function(m,e,p){var s="";var P=p.split("/");if(P.length>1){for(var i=0;i<(P.length-1);i++){var o=m.getODataAssociationEnd(e,P[i]);if(o){e=m.getODataEntityType(o.type);if(s){s=s+"/";}s=s+P[i];}else{return s;}}}return s;},getSideContentExtensionPoint:function(e,f,m){if(m){var s=e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(m["BeforeMainContent|"+s]){return"BeforeMainContent|"+s;}else if(m["AfterMainContent|"+s]){return"AfterMainContent|"+s;}}return false;},getSideContentPosition:function(e,f,m){var s=e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(m["BeforeMainContent|"+s]){return"Begin";}else{return"End";}},getTextForSideContentButton:function(e,f){var i=e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);i=i.replace(/--/g,"|").replace(/::/g,"|");var I="ShowSideContent|"+i;return"{= ${i18n>"+I+"} === '"+I+"' ? ${i18n>SHOW_SIDE_CONTENT} : ${i18n>"+I+"} }";},getEqualSplitValue:function(e,f,m){var s=e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m["BeforeMainContent|"+s]||m["AfterMainContent|"+s];if(o&&o.equalSplit&&o.equalSplit===true){return true;}else{return false;}},getCurrentPathWithExpand:function(i,C,e,n){i=i.getInterface(0);var d=[],N;var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var r=sap.ui.model.odata.AnnotationHelper.resolvePath(m.getContext(i.getPath()));var f=m.getODataEntityType(e.entityType);d=sap.suite.ui.generic.template.js.AnnotationHelper.getFacetExpand(r,m,f,o);if(d.length>0){N="{ path : '"+n+"', parameters : { expand : '"+d.join(',')+"'} }";}else{N="{ path : '"+n+"' }";}if(N==="{}"){N="";}return N;},getCurrentPathWithExpandForContact:function(i,C,e,n){var d=[],N;i=i.getInterface(0);var m=i.getModel();var r=sap.ui.model.odata.AnnotationHelper.resolvePath(m.getContext(i.getPath()));var o=m.getODataEntityType(e.entityType);d=sap.suite.ui.generic.template.js.AnnotationHelper.getFacetExpandForContact(r,m,o);if(d.length>0){N="{ path : '"+n+"', parameters : { expand : '"+d.join(',')+"'} }";}else{N="{ path : '"+n+"' }";}if(N==="{}"){N="";}return N;},getFacetExpandForContact:function(r,m,e){var d=[],f;var G=function(p){if(p){var s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,e,p);if(s){if(d.indexOf(s)===-1){d.push(s);}}}};if(r&&r.indexOf("com.sap.vocabularies.Communication.v1.Contact")>-1){f=m.getObject(r)||{};for(var i in f){var p;var F=f[i];if(F&&F.Path){p=F.Path;G(p);}else if(Object.prototype.toString.call(F)==='[object Array]'){for(var j in F){var o=F[j];if(o&&o.uri&&o.uri.Path){p=o.uri.Path;}if(o&&o.address&&o.address.Path){p=o.address.Path;}G(p);}}}}return d;},getNavigationPathWithExpand:function(i,C,e,w){i=i.getInterface(0);var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var r=sap.ui.model.odata.AnnotationHelper.resolvePath(m.getContext(i.getPath()));var n=sap.ui.model.odata.AnnotationHelper.getNavigationPath(i,C);var N=n.replace("{","").replace("}","");var d;if(N){d=m.getODataEntityType(o.entityType);var f=m.getODataAssociationSetEnd(d,N);if(f&&f.entitySet){o=m.getODataEntitySet(f.entitySet);}}else{d=m.getODataEntityType(e.entityType);w=false;}var k=false;var l=A.getFacetExpand(r,m,d,o);var p=i.getSetting("preprocessorsData")||{};var R=p.rootContextExpand||[];if(l.length>0){if(N){k=true;}else{for(var j=0;j<l.length;j++){if(R.indexOf(l[j])===-1){R.push(l[j]);}}p.rootContextExpand=R;}}w=w&&(R.indexOf(N)===-1||l.some(function(s){return R.indexOf(N+"/"+s)===-1;}));if(k||w){n="{ path : '"+N+"', parameters : { ";if(k){n=n+"expand : '"+l.join(",")+"'";if(w){n=n+", ";}}if(w){n=n+"usePreliminaryContext: true, batchGroupId: 'facets'";}n=n+"} }";}if(n==="{}"){n="";}return n;},getFormGroupBindingString:function(i,C,e){var r=A.getNavigationPathWithExpand(i,C,e,true);return r;},getFacetExpand:function(r,m,o,d){var D=[],f=[],F,j=[];if(r){j=m.getObject(r)||[];}j=j.Data||j;var G=function(p,I){var s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,p);if(s){if(f.indexOf(s)===-1){f.push(s);}}if(I){try{D=sap.ui.comp.smartfield.SmartField.getSupportedAnnotationPaths(m,d,p,true)||[];}catch(e){D=[];}for(var i=0;i<D.length;i++){if(f.indexOf(D[i])===-1){f.push(D[i]);}}}};var k=function(p){if(p.Type==="LabeledElement"){G(p.Value.Path);}else if(p.Type==="Path"){G(p.Value);}};for(var i=0;i<j.length;i++){F=j[i];if(F.Value&&F.Value.Path){G(F.Value.Path,true);}if(F.Value&&F.Value.Apply&&F.Value.Apply.Name==="odata.concat"){F.Value.Apply.Parameters.forEach(k);}if(F.Action&&F.Action.Path){G(F.Action.Path);}if(F.Target){if(F.Target.Path){G(F.Target.Path);}if(F.Target.AnnotationPath){G(F.Target.AnnotationPath);}}if(F.SemanticObject&&F.SemanticObject.Path){G(F.SemanticObject.Path);}if(F.Url&&F.Url.Path){G(F.Url.Path);}if(F.Url&&F.Url.Apply&&F.Url.Apply.Parameters){F.Url.Apply.Parameters.forEach(k);}if(F.UrlContentType&&F.UrlContentType.Path){G(F.UrlContentType.Path);}}if(j.name){G(j.name,true);}return f;},isSelf:function(p){if(p===undefined||(p&&p.indexOf('@')===0&&p.indexOf('/')===-1)){return true;}return false;},number:function(v){if(!v){return NaN;}else if(v.Decimal){return+v.Decimal;}else if(v.Path){return'{'+v.Path+'}';}else{return NaN;}},formatColor:(function(){function f(v){if(!v){return NaN;}else if(v.Decimal){return v.Decimal;}else if(v.EnumMember){return'\''+v.EnumMember+'\'';}else if(v.Path){return'${'+v.Path+'}';}else{return NaN;}}function d(D){var i=D.Criticality;return'{= '+f(i)+' === \'UI.CriticalityType/Negative\' ? \'Error\' : '+f(i)+'=== \'UI.CriticalityType/Critical\' ? \'Critical\' : \'Good\'}';}function e(D){var v=f(D.Value);var C=D.CriticalityCalculation;return'{= ('+v+' < '+f(C.DeviationRangeLowValue)+' || '+v+' > '+f(C.DeviationRangeHighValue)+') ? \'Error\' : ('+v+' < '+f(C.ToleranceRangeLowValue)+' || '+v+' > '+f(C.ToleranceRangeHighValue)+') ? \'Critical\' : \'Good\'}';}return function(D){if(D.Criticality){return d(D);}else if(D.CriticalityCalculation){return e(D);}};})(),_determineColumnIndex:function(C){var s=C.getPath();var i=Number(s.slice(s.lastIndexOf("/")+1));var l=s.slice(0,s.lastIndexOf("/"));var o=C.getModel().getObject(l);var d=0;for(var r=0;r<i;r++){if((o[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||o[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&(!o[r].Inline||o[r].Inline.Bool==="false")){continue;}else{d++;}}return d;},suppressP13NDuplicateColumns:function(I,e){var s="";var d={};var C=",";var m=I.getModel();for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"){if(e[i].Value&&e[i].Value.Path){var D=e[i].Value.Path;d[D]=true;}}}for(var i=0;i<e.length;i++){if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){if(e[i].Value&&e[i].Value.Path){var D=e[i].Value.Path;if(!d[D]){s=s+C+D;}}}else if(e[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){var t=m.getContext(I.getPath()+"/"+i+"/Target");var r=sap.ui.model.odata.AnnotationHelper.resolvePath(t);var o=m.getObject(r);if(r.indexOf('com.sap.vocabularies.Communication.v1.Contact')>=0){if(o&&o.fn&&o.fn.Path){var D=o.fn.Path;if(!d[D]){s=s+C+D;}}}else if(r.indexOf('com.sap.vocabularies.UI.v1.DataPoint')>=0){if(o&&o.Value&&o.Value.Path){var D=o.Value.Path;if(!d[D]){s=s+C+D;}}}}}if(s.length>0){s=s.substring(1);}return s;},createP13NColumnForAction:function(C,d){var i=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(C);var s=A.createP13NColumnKey(d);if(d&&d.Value&&d.Value.Path){var p='\\{"columnKey":"'+s+'", "sortProperty":"'+d.Value.Path+'", "leadingProperty":"'+d.Value.Path+'", "filterProperty":"'+d.Value.Path+'", "columnIndex":"'+i+'", "actionButton":"true" \\}';}else{var p='\\{"columnKey":"'+s+'", "columnIndex":"'+i+'", "actionButton":"true" \\}';}return p;},createP13NColumnForContactPopUp:function(i,C,d,D,s){var p="";var n="";var m=i.getInterface(0).getModel();if(m){var e=m.getODataEntityType(C.entityType);if(e){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,e,s);}}var f=A.createP13NColumnKey(d);if(D&&D.fn&&D.fn.Path){if(n){p='\\{"columnKey":"'+f+'", "leadingProperty":"'+n+'/'+D.fn.Path+'", "sortProperty":"'+n+'/'+D.fn.Path+'", "filterProperty":"'+n+'/'+D.fn.Path+'", "additionalProperty":"'+n;}else{p='\\{"columnKey":"'+f+'", "leadingProperty":"'+D.fn.Path+'", "sortProperty":"'+D.fn.Path+'", "filterProperty":"'+D.fn.Path+'", "additionalProperty":"'+D.fn.Path;}}p+='", "navigationProperty":"'+n;var o=i.getInterface(1);var j=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(o);if(j){p+='", "columnIndex":"'+j;}p+='" \\}';return p;},createP13NColumnForIndicator:function(i,C,o,d,D,e,s){var p="";var n="";var f=[];var m=i.getInterface(0).getModel();if(m){var j=m.getODataEntityType(C.entityType);if(j){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,j,s);}}var k=A.createP13NColumnKey(d);if(n){p='\\{"columnKey":"'+k+'", "leadingProperty":"'+n;n=n+"/";}else{p='\\{"columnKey":"'+k;}if(D.Value&&D.Value.Path){f.push(n+D.Value.Path);}if(D.TargetValue&&D.TargetValue.Path){f.push(n+D.TargetValue.Path);}if(D.Criticality&&D.Criticality.Path){f.push(n+D.Criticality.Path);}if(f.length>0){var l="";f.forEach(function(P){if(l){l=l+",";}l=l+P;});p+='", "additionalProperty":"'+l;}var q=i.getInterface(2);var r=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(q);if(r){p+='", "columnIndex":"'+r;}if(D&&D.Value&&D.Value.Path){p+='", "sortProperty":"'+D.Value.Path;p+='", "filterProperty":"'+D.Value.Path;}p+='" \\}';return p;},createP13NColumnForChart:function(i,C,d,D,s){var p="",e=[],n="";var m=i.getInterface(0).getModel();if(m){var o=m.getODataEntityType(C.entityType);if(o){n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,s);}}var f=A.createP13NColumnKey(d);if(n){p='\\{"columnKey":"'+f+'", "leadingProperty":"'+n;n=n+"/";}else{p='\\{"columnKey":"'+f;}if(Array.isArray(D.Dimensions)){D.Dimensions.forEach(function(l){e.push(n+l.PropertyPath);});}if(Array.isArray(D.Measures)){D.Measures.forEach(function(M){e.push(n+M.PropertyPath);});}if(e.length>0){p+='", "additionalProperty":"'+e.join();}var j=i.getInterface(1);var k=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(j);if(k){p+='", "columnIndex":"'+k;}p+='" \\}';return p;},createP13NColumnKey:function(d,C){var s="";var f="template";var S="::";if(d.RecordType==="com.sap.vocabularies.UI.v1.DataField"){s=d.Value.Path;}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation"){s=f+S+"DataFieldWithIntentBasedNavigation"+S+d.SemanticObject.String+S+d.Action.String+S+d.Value.Path;}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithNavigationPath"){s=f+S+"DataFieldWithNavigationPath"+S+d.Value.Path;}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"){s=f+S+"DataFieldForIntentBasedNavigation"+S+d.SemanticObject.String+S+d.Action.String;}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){s=f+S+"DataFieldForAction"+S+d.Action.String;}else if(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){if(d.Target.AnnotationPath.indexOf('@com.sap.vocabularies.Communication.v1.Contact')>=0||d.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.DataPoint')>=0||d.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.FieldGroup')>=0||d.Target.AnnotationPath.indexOf('@com.sap.vocabularies.UI.v1.Chart')>=0){s=f+S+"DataFieldForAnnotation"+S+d.Target.AnnotationPath;s=s.replace('@','');}}return s;},createP13N:function(I,C,o,d,D,e){var p="",f=[],n="";if(d.RecordType==="com.sap.vocabularies.UI.v1.DataField"||d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"||d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithUrl"){if(d.Value.Path){var s=A.createP13NColumnKey(d,o);p='\\{"columnKey":"'+s+'", "leadingProperty":"'+d.Value.Path;var m=I.getInterface(0).getModel();if(m){var k=m.getODataEntityType(C.entityType);if(k){if(o["com.sap.vocabularies.Common.v1.Text"]&&o["com.sap.vocabularies.Common.v1.Text"].Path){var t=A.getTextArrangement(k,d);if(t){p+='", "description":"'+o["com.sap.vocabularies.Common.v1.Text"].Path+'", "displayBehaviour":"'+t;}}n=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,k,d.Value.Path);if(n){n=n+"/";}}}}else if(d.Value.Apply&&d.Value.Apply.Name==="odata.concat"){d.Value.Apply.Parameters.forEach(function(P){if(P.Type==="Path"){if(!p){p='\\{"columnKey":"'+P.Value+'", "leadingProperty":"'+P.Value;}else{f.push(P.Value);}}});}if((o.type==="Edm.DateTime")&&(o["sap:display-format"]==="Date")){p+='", "type":"date';}if(d.Criticality&&d.Criticality.Path){f.push(d.Criticality.Path);}if(o["com.sap.vocabularies.Common.v1.Text"]&&o["com.sap.vocabularies.Common.v1.Text"].Path){f.push(n+o["com.sap.vocabularies.Common.v1.Text"].Path);}if(o["Org.OData.Measures.V1.ISOCurrency"]&&o["Org.OData.Measures.V1.ISOCurrency"].Path){f.push(n+o["Org.OData.Measures.V1.ISOCurrency"].Path);}if(o["Org.OData.Measures.V1.Unit"]&&o["Org.OData.Measures.V1.Unit"].Path){f.push(n+o["Org.OData.Measures.V1.Unit"].Path);}if(o["com.sap.vocabularies.Common.v1.FieldControl"]&&o["com.sap.vocabularies.Common.v1.FieldControl"].Path){f.push(n+o["com.sap.vocabularies.Common.v1.FieldControl"].Path);}if((d["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&d.Url&&d.Url.Apply&&d.Url.Apply.Parameters){d.Url.Apply.Parameters.forEach(function(P){if(P.Type==="LabeledElement"){f.push(P.Value.Path);}});}if((d["RecordType"]==="com.sap.vocabularies.UI.v1.DataFieldWithUrl")&&d.Url&&d.Url.Path){f.push(d.Url.Path);}if(f.length>0){var l="";f.forEach(function(P){if(l){l=l+",";}l=l+P;});p+='", "additionalProperty":"'+l;}var N=false;if(C["Org.OData.Capabilities.V1.SortRestrictions"]&&C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties){var q=C["Org.OData.Capabilities.V1.SortRestrictions"].NonSortableProperties;for(var i=q.length-1;i>=0;i--){if(q[i].PropertyPath===d.Value.Path){N=true;break;}}}if(!N){if(n){p+='", "sortProperty":"'+n+o.name;}else{p+='", "sortProperty":"'+o.name;}}var r=false;if(C["Org.OData.Capabilities.V1.FilterRestrictions"]){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].Filterable!=='false'){if(C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties){var u=C["Org.OData.Capabilities.V1.FilterRestrictions"].NonFilterableProperties;for(var j=u.length-1;j>=0;j--){if(u[j].PropertyPath===d.Value.Path){r=true;break;}}}}else{r=true;}}if(!r){p+='", "filterProperty":"'+o.name;}var v=I.getInterface(2);var w=sap.suite.ui.generic.template.js.AnnotationHelper._determineColumnIndex(v);if(w>=0){p+='", "columnIndex":"'+w;}}return p+'" \\}';},hasActions:function(P){for(var i=0;i<P.length;i++){if((!P[i].Inline||P[i].Inline.Bool!=="true")&&(P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||P[i].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")){return true;}}return false;},hasCustomActions:function(r,e,m,f){if(e&&m){if(f){if(m[e]){var M=m[e];if(M.EntitySet===e){var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(!M.Sections){return false;}var s=M.Sections[F];if(s&&s.id===F&&s.Actions){for(var i in s.Actions){if(s.Actions[i].requiresSelection!==false){return true;}}}}}}else{if(m["sap.suite.ui.generic.template.ListReport.view.ListReport"]){m=m["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"];}else if(m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]){m=m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"];}if(m&&m[e]){var M=m[e];if(M.EntitySet===e){if(M.Actions){for(var i in M.Actions){if(M.Actions[i].requiresSelection!==false){return true;}}}}}}}return false;},getMultiSelectForTable:function(f,s,G){var S=s&&s[sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f)];var m=(S&&S.multiSelect);if(m==true||(G==true&&m!=false)){return true;}else{return false;}},getSelectionModeAnalyticalTable:function(e,r,m,f,s,o,R,i,G){var M=sap.suite.ui.generic.template.js.AnnotationHelper.getMultiSelectForTable(f,s,G);if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){if(M){return"MultiToggle";}else{return"Single";}}var d=o["Org.OData.Capabilities.V1.DeleteRestrictions"];if(i){if((d&&d.Deletable&&((d.Deletable.Bool&&d.Deletable.Bool!=='false')||d.Deletable.Path))||!d){if(M){return"{= ${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= ${ui>/editable} ? 'Single' : 'None' }";}}}else{if((d&&d.Deletable&&((d.Deletable.Bool&&d.Deletable.Bool!=='false')||d.Deletable.Path))||!d){if(M){return"{= !${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= !${ui>/editable} ? 'Single' : 'None' }";}}}return"None";},getSelectionModeGridTable:function(e,r,m,f,s,o,R,i,G){var M=sap.suite.ui.generic.template.js.AnnotationHelper.getMultiSelectForTable(f,s,G);if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){if(M){return"MultiToggle";}else{return"Single";}}var d=o["Org.OData.Capabilities.V1.DeleteRestrictions"];if(i){if((d&&d.Deletable&&((d.Deletable.Bool&&d.Deletable.Bool!=='false')||d.Deletable.Path))||!d){if(M){return"{= ${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= ${ui>/editable} ? 'Single' : 'None' }";}}}else{if((d&&d.Deletable&&((d.Deletable.Bool&&d.Deletable.Bool!=='false')||d.Deletable.Path))||!d){if(M){return"{= !${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= !${ui>/editable} ? 'Single' : 'None' }";}}}return"None";},getSelectionModeTreeTable:function(e,r,m,f,s,o,R,i,G){var M=sap.suite.ui.generic.template.js.AnnotationHelper.getMultiSelectForTable(f,s,G);if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){if(M){return"MultiToggle";}else{return"Single";}}var d=o["Org.OData.Capabilities.V1.DeleteRestrictions"];if(i){if((d&&d.Deletable&&((d.Deletable.Bool&&d.Deletable.Bool!=='false')||d.Deletable.Path))||!d){if(M){return"{= ${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= ${ui>/editable} ? 'Single' : 'None' }";}}}else{if((d&&d.Deletable&&((d.Deletable.Bool&&d.Deletable.Bool!=='false')||d.Deletable.Path))||!d){if(M){return"{= !${ui>/editable} ? 'MultiToggle' : 'None' }";}else{return"{= !${ui>/editable} ? 'Single' : 'None' }";}}}return"None";},getSelectionModeResponsiveTable:function(e,r,m,f,s,o,R,i,G){var M=sap.suite.ui.generic.template.js.AnnotationHelper.getMultiSelectForTable(f,s,G);if((sap.suite.ui.generic.template.js.AnnotationHelper.hasActions(e)||sap.suite.ui.generic.template.js.AnnotationHelper.hasCustomActions(R,r,m,f))){if(M){return"MultiSelect";}else{return"SingleSelectLeft";}}var d=o["Org.OData.Capabilities.V1.DeleteRestrictions"];if(i){if((d&&d.Deletable&&((d.Deletable.Bool&&d.Deletable.Bool!=='false')||d.Deletable.Path))||!d){if(M){return"{= ${ui>/editable} ? 'MultiSelect' : 'None' }";}else{return"{= ${ui>/editable} ? 'SingleSelectLeft' : 'None' }";}}}else{if((d&&d.Deletable&&((d.Deletable.Bool&&d.Deletable.Bool!=='false')||d.Deletable.Path))||!d){if(M){return"{= !${ui>/editable} ? 'MultiSelect' : 'None' }";}else{return"{= !${ui>/editable} ? 'SingleSelectLeft' : 'None' }";}}}return"None";},getSortOrder:function(P){var s='';for(var i=0;i<P.length;i++){if(!s){s=P[i].Property.PropertyPath;}else{s=s+', '+P[i].Property.PropertyPath;}if(P[i].Descending){s=s+' '+P[i].Descending.Bool;}}return s;},replaceSpecialCharsInId:function(i){if(i.indexOf(" ")>=0){L.error("Annotation Helper: Spaces are not allowed in ID parts. Please check the annotations, probably something is wrong there.");}return i.replace(/@/g,"").replace(/\//g,"::").replace(/#/g,"::");},getStableIdPartFromDataField:function(d){var p="",I="";if(d.RecordType&&d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Action.String);}else if(d.RecordType&&(d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation"||d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldWithIntentBasedNavigation")){if(d.SemanticObject.String){I=sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.SemanticObject.String);}else if(d.SemanticObject.Path){I=sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.SemanticObject.Path);}if(d.Action&&d.Action.String){I=I+"::"+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Action.String);}else if(d.Action&&d.Action.Path){I=I+"::"+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Action.Path);}return I;}else if(d.RecordType&&d.RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAnnotation"){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Target.AnnotationPath);}else if(d.Value&&d.Value.Path){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Value.Path);}else if(d.Value&&d.Value.Apply&&d.Value.Apply.Name==="odata.concat"){for(var i=0;i<d.Value.Apply.Parameters.length;i++){if(d.Value.Apply.Parameters[i].Type==="Path"){if(p){p=p+"::";}p=p+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Value.Apply.Parameters[i].Value);}}return p;}else{L.error("Annotation Helper: Unable to create a stable ID. Please check the annotations.");}},getStableIdPartFromDataPoint:function(d){var p="";if(d.Value&&d.Value.Path){return sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Value.Path);}else if(d.Value&&d.Value.Apply&&d.Value.Apply.Name==="odata.concat"){for(var i=0;i<d.Value.Apply.Parameters.length;i++){if(d.Value.Apply.Parameters[i].Type==="Path"){if(p){p=p+"::";}p=p+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(d.Value.Apply.Parameters[i].Value);}}return p;}else{L.error("Annotation Helper: Unable to create stable ID derived from annotations.");}},getStableIdPartFromFacet:function(f){var H="";if(typeof this.getContext==="function"&&this.getContext()&&this.getContext().getPath()&&this.getContext().getPath().indexOf("com.sap.vocabularies.UI.v1.HeaderFacets")>=0){H="headerEditable::";}if(f.RecordType&&f.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){if(f.ID&&f.ID.String){return H+f.ID.String;}else{L.error("Annotation Helper: Unable to create a stable ID. You have to set an ID at all collection facets.");return Math.floor((Math.random()*99999)+1).toString();}}else if(f.RecordType&&f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){if(f.ID&&f.ID.String){return H+f.ID.String;}else{return H+sap.suite.ui.generic.template.js.AnnotationHelper.replaceSpecialCharsInId(f.Target.AnnotationPath);}}else{L.error("Annotation Helper: Unable to create a stable ID. Please check the facet annotations.");return Math.floor((Math.random()*99999)+1).toString();}},getVisibilityForExtensionPointReplaceHeader:function(e,m){var s="ReplaceHeaderExtensionFacet|"+e;var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderExists:function(e,m){if(m){var s="ReplaceHeaderExtensionFacet|"+e;return m[s];}return false;},getVisibilityForExtensionPointNoImage:function(e,m){var s="NoImageExtensionFacet|"+e;var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointNoImageExists:function(e,m){if(m){var s="NoImageExtensionFacet|"+e;return m[s];}return false;},getVisibilityForExtensionPointAfterImage:function(e,m){var s="AfterImageExtensionFacet|"+e;var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterImageExists:function(e,m){if(m){var s="AfterImageExtensionFacet|"+e;return m[s];}return false;},getVisibilityForExtensionPointBeforeSimpleHeaderFacet:function(e,f,m,d){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(d);}var i=F+"::"+s;var j="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+i;var o=m[j];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeSimpleHeaderFacetExists:function(e,f,m,d){if(m){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(d);}var i=F+"::"+s;var j="BeforeSimpleHeaderFacet|"+e+"|headerEditable::"+i;return m[j];}return false;},getVisibilityForExtensionPointReplaceSimpleHeaderFacet:function(e,f,m,d){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(d);}var i=F+"::"+s;var j="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+i;var o=m[j];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceSimpleHeaderFacetExists:function(e,f,m,d){if(m){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(d);}var i=F+"::"+s;var j="ReplaceSimpleHeaderFacet|"+e+"|headerEditable::"+i;return m[j];}return false;},getVisibilityForExtensionPointAfterSimpleHeaderFacet:function(e,f,m,d){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(d);}var i=F+"::"+s;var j="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+i;var o=m[j];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterSimpleHeaderFacetExists:function(e,f,m,d){if(m){var s;var F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);if(f.Target.AnnotationPath.indexOf("DataPoint")>0){s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);}else{s=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(d);}var i=F+"::"+s;var j="AfterSimpleHeaderFacet|"+e+"|headerEditable::"+i;return m[j];}return false;},getVisibilityForExtensionPointBeforeHeaderFacet:function(e,f,m){var s="BeforeHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointBeforeHeaderFacetExists:function(e,f,m){if(m){var s="BeforeHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},getVisibilityForExtensionPointReplaceHeaderFacet:function(e,f,m){var s="ReplaceHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointReplaceHeaderFacetExists:function(e,f,m){if(m){var s="ReplaceHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},getVisibilityForExtensionPointAfterHeaderFacet:function(e,f,m){var s="AfterHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['bVisibleOnEdit']===false){return false;}return true;},extensionPointAfterHeaderFacetExists:function(e,f,m){if(m){var s="AfterHeaderFacet|"+e+"|headerEditable::"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},extensionPointBeforeHeaderDataPointExists:function(e,d,m){if(m){var s="BeforeHeaderDataPoint|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);return m[s];}return false;},extensionPointReplaceHeaderDataPointExists:function(e,d,m){if(m){var s="ReplaceHeaderDataPoint|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);return m[s];}return false;},extensionPointAfterHeaderDataPointExists:function(e,d,m){if(m){var s="AfterHeaderDataPoint|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataPoint(d);return m[s];}return false;},extensionPointBeforeFacetExists:function(e,f,m){if(m){var s="BeforeFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},extensionPointAfterFacetExists:function(e,f,m){if(m){var s="AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},extensionPointBeforeSubSectionExists:function(e,f,m){if(m){var s="BeforeSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},extensionPointAfterSubSectionExists:function(e,f,m){if(m){var s="AfterSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},extensionPointReplaceSubSectionExists:function(e,f,m){if(m){var s="ReplaceSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);return m[s];}return false;},getExtensionPointBeforeFacetTitle:function(e,f,m){var s="BeforeFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getExtensionPointAfterFacetTitle:function(e,f,m){var s="AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getExtensionPointBeforeSubSectionTitle:function(e,f,m){var s="BeforeSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getExtensionPointAfterSubSectionTitle:function(e,f,m){var s="AfterSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},getExtensionPointReplaceSubSectionTitle:function(e,f,m){var s="ReplaceSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);var o=m[s];if(o&&o['sap.ui.generic.app']&&o['sap.ui.generic.app'].title){return o['sap.ui.generic.app'].title;}},isExtensionPointBeforeSubSectionLazyLoadingEnabled:function(e,f,m){return E("BeforeSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointAfterSubSectionLazyLoadingEnabled:function(e,f,m){return E("AfterSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointReplaceSubSectionLazyLoadingEnabled:function(e,f,m){return E("ReplaceSubSection|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointBeforeFacetLazyLoadingEnabled:function(e,f,m){return E("BeforeFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointAfterFacetLazyLoadingEnabled:function(e,f,m){return E("AfterFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},isExtensionPointReplaceFacetLazyLoadingEnabled:function(e,f,m){return E("ReplaceFacet|"+e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f),m);},getRepeatIndex:function(v){if(v&&v.getPath()){var p="0000000000";var P=p+((parseInt(v.getPath().substring(v.getPath().lastIndexOf("/")+1),10)+1)*10).toString();return P.substr(P.length-p.length);}else{L.error("Annotation Helper: Unable to get index.");}},getColumnListItemType:function(l,s,m,M,i,d){var r=M&&M.routeConfig&&M.routeConfig.name;var I=r==="root";var e=I&&s.some(function(S){return S.navigationProperty;});var f=i||I;return b(l,s,m,d,f,false,e);},getRowActionCountForDetailPage:function(l,s,m,d,i){return c(l,s,m,d,i);},getRowActionCountForListReport:function(l,s,m,M){return c(l,s,m,"",true);},hasSubObjectPage:function(l,s){return h(l,s);},isRelatedEntityCreatable:function(I,s,r,S,f,o,d){var e=false;var m=I.getInterface(0).getModel();var j=s["Org.OData.Capabilities.V1.InsertRestrictions"];var k=m.getODataEntityType(s.entityType);if(A.hasSubObjectPage(r,S)||(o&&A.isInlineCreate(f,o))){if(d){e="{= ${ui>/editable}}";}else{e="{= !${ui>/editable}}";}if(j&&j.NonInsertableNavigationProperties&&j.NonInsertableNavigationProperties.length>0){for(var i=0;i<j.NonInsertableNavigationProperties.length;i++){var n=j.NonInsertableNavigationProperties[i];var N=sap.suite.ui.generic.template.js.AnnotationHelper._getNonInsertableNavigationPropertyPath(n);if(N){var l=m.getODataAssociationSetEnd(k,N);if(l&&l.entitySet===r.name){if(n.If&&n.If.length===2){var p=n.If[0];var F=p.Not?p.Not.Path:p.Path;if(sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,s.entityType,F)){sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(I,F,k.name);if(d){if(p.Not){e="{= ${ui>/editable} ? ${"+F+"} : false}";}else{e="{= ${ui>/editable} ? !${"+F+"} : false}";}}else{if(p.Not){e="{= !${ui>/editable} ? ${"+F+"} : false}";}else{e="{= !${ui>/editable} ? !${"+F+"} : false}";}}}else{e=false;L.warning("Creatable-Path is not valid. Creation for "+r.name+" is disabled");}}else{e=false;}break;}}}}}return e;},_getNonInsertableNavigationPropertyPath:function(n){var N;if(n.NavigationPropertyPath){N=n.NavigationPropertyPath;}else if(n.If){N=n.If[1].NavigationPropertyPath;}return N;},areDeleteRestrictionsValid:function(m,e,r){var d=!(r&&r.Deletable&&r.Deletable.Bool&&r.Deletable.Path)&&((!r)||(r.Deletable&&r.Deletable.Bool)||(r.Deletable&&r.Deletable.Path&&sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,e,r.Deletable.Path)));if(!d){L.error("Service Broken: Delete Restrictions annotations are invalid. ");}return d;},_areUpdateRestrictionsValid:function(m,e,r){var d=!(r&&r.Updatable&&r.Updatable.Bool&&r.Updatable.Path)&&((!r)||(r.Updatable&&r.Updatable.Bool)||(r.Updatable&&r.Updatable.Path&&sap.suite.ui.generic.template.js.AnnotationHelper._isPropertyPathBoolean(m,e,r.Updatable.Path)));if(!d){L.error("Service Broken: Delete Restrictions annotations are invalid. ");}return d;},_isPropertyPathBoolean:function(m,e,p){var P=p;var o=m.getODataEntityType(e);if(P.indexOf("/")>-1){var d=P.split("/");for(var j=0;j<d.length-1;j++){var f=m.getODataAssociationEnd(o,d[j]);o=m.getODataEntityType(f.type);}P=d[d.length-1];}var O=m.getODataProperty(o,P);return(O&&O.type==="Edm.Boolean");},actionControl:function(i,s,e,d){if(d["com.sap.vocabularies.UI.v1.Hidden"]){return sap.suite.ui.generic.template.js.AnnotationHelper.getBindingForHiddenPath(d);}else{sap.suite.ui.generic.template.js.AnnotationHelper._actionControlExpand(i,s,e);if(s){return"{path: '"+s+"'}";}else{return"true";}}},_actionControlExpand:function(i,p,e){var d=[],s;i=i.getInterface(0);var m=i.getModel();var o=m.getODataEntityType(e);if(p){s=sap.suite.ui.generic.template.js.AnnotationHelper._getNavigationPrefix(m,o,p);if(s){d.push(s);}}if(d.length>0){var P=i.getSetting("preprocessorsData");if(P){var r=P.rootContextExpand||[];for(var j=0;j<d.length;j++){if(r.indexOf(d[j])===-1){r.push(d[j]);}}P.rootContextExpand=r;}}},getEntityTypesForFormPersonalization:function(i,f,e){i=i.getInterface(0);var d=[];var m=i.getModel();var o=m.getODataEntitySet(e.name||'');var F=[];if(f.RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"&&f.Facets){F=f.Facets;}else if(f.RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"){F.push(f);}F.forEach(function(f){var n;if(f.Target&&f.Target.AnnotationPath&&f.Target.AnnotationPath.indexOf("/")>0){n=f.Target.AnnotationPath.split("/")[0];var j=m.getODataEntityType(o.entityType);var k=m.getODataAssociationSetEnd(j,n);if(k&&k.entitySet){o=m.getODataEntitySet(k.entitySet);if(d.indexOf(o.entityType.split(".")[1])===-1){d.push(o.entityType.split(".")[1]);}}}else{if(d.indexOf(e.entityType.split(".")[1])===-1){d.push(e.entityType.split(".")[1]);}}});return d.join(", ");},_mapTextArrangement4smartControl:function(t){var T="descriptionAndId";switch(t){case"com.sap.vocabularies.UI.v1.TextArrangementType/TextLast":T="idAndDescription";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextSeparate":T="idOnly";break;case"com.sap.vocabularies.UI.v1.TextArrangementType/TextOnly":T="descriptionOnly";break;default:break;}return T;},getTextArrangementForSmartControl:function(i,f,r,e){i=i.getInterface(0);var o;var m=i.getModel();if(r.name==undefined){o=m.getODataEntityType(e.entityType);}else{o=m.getODataEntityType(r.entityType);}var t="descriptionAndId";if(m.getODataProperty(o,f.Value.Path)){var p=m.getODataProperty(o,f.Value.Path)["com.sap.vocabularies.Common.v1.Text"];if(p&&p["com.sap.vocabularies.UI.v1.TextArrangement"]&&p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=sap.suite.ui.generic.template.js.AnnotationHelper._mapTextArrangement4smartControl(p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(o["com.sap.vocabularies.UI.v1.TextArrangement"]&&o["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=sap.suite.ui.generic.template.js.AnnotationHelper._mapTextArrangement4smartControl(o["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}return t;},getTableTitle:function(f,F,H){var p=null;var l=new Map();var G=function(f,p){for(var i=0;i<f.length;i++){if(f[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){G(f[i].Facets,f[i].Label.String);}else if(f[i].RecordType==="com.sap.vocabularies.UI.v1.ReferenceFacet"&&f[i].Target&&f[i].Target.AnnotationPath.indexOf("LineItem")>-1){if(p!==null){l.set(f[i].Target.AnnotationPath,p);}else{l.set(f[i].Target.AnnotationPath,f[i].Label.String);}}}};G(f,p);var s=l.get(F.Target.AnnotationPath);s=s.replace("'","\\'").replace('"','\\"');if(s.indexOf(">")>-1){s="@i18n>"+s.split(">")[1].split("}")[0];}else{s="@i18n>"+s;}if(H&&H.TypeNamePlural&&H.TypeNamePlural.String){var t=H.TypeNamePlural.String;t=t.replace("'","\\'").replace('"','\\"');if(t===''){return"";}else if(t.indexOf(">")>-1){t="@i18n>"+t.split(">")[1].split("}")[0];}else{t="@i18n>"+t;}return"{parts: [{path: '"+t+"'}, {path: '"+s+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatTableTitle'}";}else{return"";}},formatTableTitle:function(t,s){if(t&&t!==s){return t;}return"";},getTitle:function(s,S,n){var r;var t=A.getTextArrangementObject(s,S,n);if(t){r=A.getTitleTextArrangementBindingPath(t.textArrangement,t.propertyPath,t.textPath);}return r;},getDescription:function(s,S,n){var r;var t=A.getTextArrangementObject(s,S,n);if(t){r=A.getDescriptionTextArrangementBindingPath(t.textArrangement,t.propertyPath,t.textPath);}return r;},getTextArrangementObject:function(s,S,n){var t,p,T;if(S){p=S.name;var P=S["com.sap.vocabularies.Common.v1.Text"];if(P){T=P.Path;}t=A.getTextArrangement(s,S);return{textArrangement:t,propertyPath:p,textPath:T};}},getTextArrangement:function(e,f){var t;if(f["com.sap.vocabularies.UI.v1.TextArrangement"]&&f["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=A._mapTextArrangement4smartControl(f["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}if(!t){var p=f["com.sap.vocabularies.Common.v1.Text"];if(p&&p["com.sap.vocabularies.UI.v1.TextArrangement"]&&p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=A._mapTextArrangement4smartControl(p["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!t){if(e&&e["com.sap.vocabularies.UI.v1.TextArrangement"]&&e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember){t=A._mapTextArrangement4smartControl(e["com.sap.vocabularies.UI.v1.TextArrangement"].EnumMember);}}if(!t){t="descriptionAndId";}return t;},getTitleTextArrangementBindingPath:function(t,p,T){var P="{"+p+"}";var s="{"+T+"}";if(!T){return P;}if(t==="descriptionAndId"){return s;}else if(t==="descriptionOnly"){return s;}else if(t==="idAndDescription"){return P;}else if(t==="idOnly"){return P;}},getDescriptionTextArrangementBindingPath:function(t,p,T){var P="{"+p+"}";var s="{"+T+"}";if(!T){return"";}if(t==="descriptionAndId"){return P;}else if(t==="descriptionOnly"){return"";}else if(t==="idAndDescription"){return s;}else if(t==="idOnly"){return"";}},isDeepFacetHierarchy:function(f){if(f.Facets){for(var i=0;i<f.Facets.length;i++){if(f.Facets[i].RecordType==="com.sap.vocabularies.UI.v1.CollectionFacet"){return true;}}}return false;},doesCollectionFacetOnlyContainForms:function(f){var r=true;if(f.Facets){for(var i=0;i<f.Facets.length;i++){if(f.Facets[i].Target&&f.Facets[i].Target.AnnotationPath){if((f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.FieldGroup")<0)&&(f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.Identification")<0)&&(f.Facets[i].Target.AnnotationPath.indexOf("com.sap.vocabularies.UI.v1.DataPoint")<0)){r=false;}}}}else{r=false;}return r;},doesFieldGroupContainOnlyOneMultiLineDataField:function(f,F){if(f.Data.length!==1){return false;}if((F['com.sap.vocabularies.UI.v1.MultiLineText']===undefined)||(f.Data[0].RecordType!=="com.sap.vocabularies.UI.v1.DataField")){return false;}return true;},testFormatter:function(v){return"formatted:"+v;},getFacetID:function(e,f){return e+"|"+sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);},isListReportTemplate:function(r){if(r){return r.template==="sap.suite.ui.generic.template.ListReport";}},isAnalyticalListPageOrListReportTemplate:function(r){if(r){return(r.template==="sap.suite.ui.generic.template.AnalyticalListPage"||r.template==="sap.suite.ui.generic.template.ListReport");}},getStableIdPartForDatafieldActionButton:function(d,f,t,C){var s="";var D="";var F="";if(f){F=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromFacet(f);}if(d){D=sap.suite.ui.generic.template.js.AnnotationHelper.getStableIdPartFromDataField(d);}s=(F!==""?F+"::":"")+"action::"+D;var S=sap.suite.ui.generic.template.js.AnnotationHelper.getSuffixFromIconTabFilterKey(t);if(S){s=s.concat(S);}if(C){s=s+"::chart";}return s;},_hasCustomDeterminingActionsInListReport:function(e,m){if(m&&m[e]){var M=m[e];if(M.Actions){for(var d in M.Actions){if(M.Actions[d].determining){return true;}}}}return false;},_hasCustomDeterminingActionsInObjectPage:function(e,m){if(m&&m[e]){var M=m[e];if(M.Header&&M.Header.Actions){for(var d in M.Header.Actions){if(M.Header.Actions[d].determining){return true;}}}}return false;},hasDeterminingActionsRespectingApplicablePath:function(C,t,e,m){var s="";C=C.getInterface(0);if(e&&m&&m["sap.suite.ui.generic.template.ObjectPage.view.Details"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInObjectPage(e,m["sap.suite.ui.generic.template.ObjectPage.view.Details"]["sap.ui.generic.app"])){return"true";}if(t){for(var r=0;r<t.length;r++){if((t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction")&&t[r].Determining&&t[r].Determining.Bool==="true"){var f=C.getModel().getODataFunctionImport(t[r].Action.String,true);var F=C.getModel().getObject(f);if(F["sap:applicable-path"]){if(s.length>0){s+=" || ";}s+="${path: '"+F["sap:applicable-path"]+"'}";}else{return"true";}}}}if(s.length>0){return"{= "+s+" || ${ui>/editable}}";}else{return"{ui>/editable}";}},hasDeterminingActions:function(t,e,m){if(e&&m&&m["sap.suite.ui.generic.template.ListReport.view.ListReport"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInListReport(e,m["sap.suite.ui.generic.template.ListReport.view.ListReport"]["sap.ui.generic.app"])){return"true";}else if(e&&m&&m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]&&sap.suite.ui.generic.template.js.AnnotationHelper._hasCustomDeterminingActionsInListReport(e,m["sap.suite.ui.generic.template.AnalyticalListPage.view.AnalyticalListPage"]["sap.ui.generic.app"])){return"true";}for(var r=0;r<t.length;r++){if((t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForAction"||t[r].RecordType==="com.sap.vocabularies.UI.v1.DataFieldForIntentBasedNavigation")&&t[r].Determining&&t[r].Determining.Bool==="true"){return"true";}}return"false";},actionControlDetermining:function(r,s,d){if(d["com.sap.vocabularies.UI.v1.Hidden"]){return sap.suite.ui.generic.template.js.AnnotationHelper.getBindingForHiddenPath(d);}else if(sap.suite.ui.generic.template.js.AnnotationHelper.isListReportTemplate(r)||!s){return true;}else{return"{path: '"+s+"'}";}},actionControlInline:function(s){if(!s){return true;}else{return"{path: '"+s+"'}";}},actionControlBreakout:function(s){if(!s){return true;}else{return"{path: '"+s+"'}";}},buildExpressionForProgressIndicatorPercentValue:function(i,d,u){var p="0";if(d.Value&&d.Value.Path){var v="$"+sap.ui.model.odata.AnnotationHelper.format(i,d.Value);var t,U;if(d.TargetValue){t=sap.ui.model.odata.AnnotationHelper.format(i,d.TargetValue);t=d.TargetValue.Path?"$"+t:t;}if(u){u=u['Org.OData.Measures.V1.Unit']||u["Org.OData.Measures.V1.ISOCurrency"];if(u){U=sap.ui.model.odata.AnnotationHelper.simplePath(i,u);U=U&&u.Path?"$"+U:"'"+U+"'";}}var e="({0} > 100 ? 100 : {0} < 0 ? 0 : {0} * 1)";var s="(({1}*1 > 0) ? (({0}*1 > {1}*1) ? 100 : (({0}*1 < 0) ? 0 : ({0} / {1} * 100))) : 0)";var f="'{'= ({2} === ''%'') ? "+e+" : "+s+" '}'";p=jQuery.sap.formatMessage(f,[v,t,U]);}return p;},buildExpressionForProgressIndicatorDisplayValue:function(i,d,u){var p;var e=function(i,P){var s=sap.suite.ui.generic.template.js.AnnotationHelper.trimCurlyBraces(sap.ui.model.odata.AnnotationHelper.format(i,P));var f="{path: '"+s+"'}";return f;};p=e(i,d.Value)+", "+e(i,d.TargetValue)+", "+e(i,u);var D="{ parts: ["+p+"], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.formatDisplayValue' }";return D;},formatDisplayValue:function(v,t,u){var d="";if(v!==null&&v!==undefined){v=v.toString();}if(v){var C=this;var r=C.getModel("i18n").getResourceBundle();var e=C.getCustomData();var l=sap.ui.getCore().getConfiguration().getFormatSettings().getFormatLocale();v=sap.ui.core.format.NumberFormat.getInstance(l).format(v);t=t||e.filter(function(o){if(o.getKey()==="Target"){return o;}});t=typeof(t)==="object"?(t[0]&&t[0].getValue()):t;u=u||e.filter(function(o){if(o.getKey()==="UoM"){return o;}});u=typeof(u)==="object"?(u[0]&&u[0].getValue()):u;if(u){if(u==='%'){d=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_PERCENT",[v]);}else{if(t){t=sap.ui.core.format.NumberFormat.getInstance(l).format(t);d=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT",[v,t,u]);}else{d=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_UOM_IS_NOT_PERCENT_NO_TARGET_VALUE",[v,u]);}}}else{if(t){t=sap.ui.core.format.NumberFormat.getInstance(l).format(t);d=r.getText("PROGRESS_INDICATOR_DISPLAY_VALUE_NO_UOM",[v,t]);}else{d=v;}}}else{L.warning("Value property is mandatory, the default (empty string) will be returned");}return d;},buildExpressionForProgressIndicatorCriticality:function(i,d){var f=sap.ui.core.ValueState.None;var e;var C=d.Criticality;if(C){e="'{'= ({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Negative'') || ({0} === ''1'') || ({0} === 1) ? ''"+sap.ui.core.ValueState.Error+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Critical'') || ({0} === ''2'') || ({0} === 2) ? ''"+sap.ui.core.ValueState.Warning+"'' : "+"({0} === ''com.sap.vocabularies.UI.v1.CriticalityType/Positive'') || ({0} === ''3'') || ({0} === 3) ? ''"+sap.ui.core.ValueState.Success+"'' : "+"''"+sap.ui.core.ValueState.None+"'' '}'";if(C.Path){var s='$'+sap.ui.model.odata.AnnotationHelper.simplePath(i,C);f=jQuery.sap.formatMessage(e,s);}else if(C.EnumMember){var j="'"+C.EnumMember+"'";f=jQuery.sap.formatMessage(e,j);}else{L.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}}else{L.warning("Case not supported, returning the default sap.ui.core.ValueState.None");}return f;},trimCurlyBraces:function(v){return v?v.replace("{","").replace("}",""):undefined;},getEntitySetName:function(r,e){var s="";try{s=r.name||e.name;}catch(o){L.warning("At least one of the input parameters is undefined. Returning default value for entity set name.");}return s;},getBreakoutActionEnabledKey:function(o,t){var B=sap.suite.ui.generic.template.js.AnnotationHelper.getBreakoutActionButtonId(o,t);var e="{_templPriv>/generic/listCommons/breakoutActionsEnabled/"+B+"/enabled}";return e;},buildVisibilityExprOfDataFieldForIntentBasedNaviButton:function(d){if(d["com.sap.vocabularies.UI.v1.Hidden"]){return sap.suite.ui.generic.template.js.AnnotationHelper.getBindingForHiddenPath(d);}else if(!!d.RequiresContext&&d.RequiresContext.Bool=="false"&&(!d.Inline||d.Inline.Bool==="false")){var s=d.SemanticObject.String;var e=d.Action.String;return"{= !!${_templPriv>/generic/supportedIntents/"+s+"/"+e+"/visible}}";}else{return true;}},searchForFirstSemKey_Title_Description:function(l){var s,t,d,e,r,m,T,D,f,j,o,F,k,H,n,p,q,i;if(!l){return;}s=l.getPath();if(s.indexOf("com.sap.vocabularies.UI.v1.LineItem")<0){return;}d=s&&s.lastIndexOf("/");e=s.substring(0,d);r=s.substring(d+1);m=l.getModel();o=m&&m.getObject(e);if(o){F=o["com.sap.vocabularies.Common.v1.SemanticKey"]&&o["com.sap.vocabularies.Common.v1.SemanticKey"][0]&&o["com.sap.vocabularies.Common.v1.SemanticKey"][0].PropertyPath;k=o[r];H=o["com.sap.vocabularies.UI.v1.HeaderInfo"];n="";p="";if(H){n=H&&H["Title"]&&H["Title"].Value&&H["Title"].Value.Path;p=H&&H["Description"]&&H["Description"].Value&&H["Description"].Value.Path;}q=k&&k.length;t=s+"/";for(i=0;i<q;i++){if(k[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&k[i].Value.Path===F){if(A.isPropertyHidden(k[i])){continue;}t=t+i+'/Value/Path';return t;}if(k[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&k[i].Value.Path===n){if(A.isPropertyHidden(k[i])){continue;}T=true;j=i;}if(k[i].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&k[i].Value.Path===p){if(A.isPropertyHidden(k[i])){continue;}D=true;f=i;}}if(T){t=t+j+'/Value/Path';return t;}else if(D){t=t+f+'/Value/Path';return t;}}else{L.warning("No entity type provided");}},isPropertyHidden:function(l){var H=false;if(l["com.sap.vocabularies.UI.v1.Hidden"]||(l["com.sap.vocabularies.Common.v1.FieldControl"]&&l["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember&&l["com.sap.vocabularies.Common.v1.FieldControl"].EnumMember==="com.sap.vocabularies.Common.v1.FieldControlType/Hidden")){H=true;}return H;},getColumnHeaderText:function(d,D){var r;if(D.Label){return D.Label.String;}else{r=d["sap:label"]||(d["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}},getColumnToolTip:function(d,D){var r;if(D.Label){return D.Label.String;}else{r=d["sap:quickinfo"]||(d["com.sap.vocabularies.Common.v1.QuickInfo"]||"").String||d["sap:label"]||(d["com.sap.vocabularies.Common.v1.Label"]||"").String||"";return r;}},getTextForDataField:function(d){var v=d["com.sap.vocabularies.Common.v1.Text"]&&d["com.sap.vocabularies.Common.v1.Text"].Path;return v;},getColumnCellFirstText:function(d,D,e,C){var r,t;t=A.getTextArrangement(e,d);switch(t){case"idAndDescription":r=D.Value.Path;if(!r){r=A.getTextForDataField(d);}break;case"idOnly":r=D.Value.Path;if(!r){r=A.getTextForDataField(d);}break;case"descriptionAndId":case"descriptionOnly":default:r=A.getTextForDataField(d);if(!r){r=D.Value.Path;}break;}if(r){if(C){return true;}else{if(d.type==="Edm.DateTimeOffset"||d.type==="Edm.DateTime"||d.type==="Edm.Time"){var f=A.formatDateTimeForCustomColumn(d.type,r);return f;}else{return"{"+r+"}";}}}},getColumnCellSecondText:function(d,D,e,C){var r;r=A.getTitlePath(d,D,e);if(r){if(C){return true;}else{if(d.type==="Edm.DateTimeOffset"||d.type==="Edm.DateTime"||d.type==="Edm.Time"){var f=A.formatDateTimeForCustomColumn(d.type,r);return f;}else{return"{"+r+"}";}}}},getTitlePath:function(d,D,e){var r,t;t=A.getTextArrangement(e,d);switch(t){case"idOnly":case"descriptionOnly":break;case"idAndDescription":if(!D.Value.Path){break;}r=A.getTextForDataField(d);break;case"descriptionAndId":default:if(!A.getTextForDataField(d)){break;}r=D.Value.Path;break;}return r;},getHeaderVisibility:function(d,D,e){var t,T;t=A.getTitlePath(d,D,e);if(!t){if(d.type==="Edm.DateTimeOffset"||d.type==="Edm.DateTime"||d.type==="Edm.Time"){t=A.getColumnCellFirstText(d,D,e);return"{= "+t+" ? false : true}";}else{t=A.getColumnCellFirstText(d,D,e).replace("{","").replace("}","");}}else{T=A.getTextArrangement(e,d);if(!T||T==="descriptionAndId"){t=A.getColumnCellFirstText(d,D,e).replace("{","").replace("}","");}if(T==="idAndDescription"){t=A.getTitlePath(d,D,e);}}if(t){return"{= ${path: '"+t+"'} ? false : true}";}return false;},formatDateTimeForCustomColumn:function(d,r){if(d==="Edm.DateTimeOffset"){return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.DateTimeOffset', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else if(d==="Edm.DateTime"){return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.DateTime', formatOptions: { style: 'medium'}, constraints: {displayFormat: 'Date'}}";}else{return"{ path: '"+r+"', type: 'sap.ui.model.odata.type.Time', formatOptions: { style: 'medium'}}";}},getAdditionalSemanticObjects:function(d){var o;var e=[];for(o in d){if(o.indexOf("com.sap.vocabularies.Common.v1.SemanticObject#")!=-1){e.push(d[o].String);}}if(e.length>0){return e;}},getColumnCellFirstTextVisibility:function(d,D,e){var C=true;var v=!!A.getColumnCellFirstText(d,D,e,C);return v;},getColumnCellSecondTextVisibility:function(d,D,e){var C=true;var v=!!A.getColumnCellSecondText(d,D,e,C);return v;},isSmartLink:function(d){var o;for(o in d){if(o.indexOf('com.sap.vocabularies.Common.v1.SemanticObject')>=0){return true;}}return false;},setRowHighlight:function(e){return"{parts: [{path: 'IsActiveEntity'}, {path: 'HasActiveEntity'}, {path: '"+e["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"].Path+"'}], formatter: 'sap.suite.ui.generic.template.js.AnnotationHelper.setInfoHighlight'}";},setInfoHighlight:function(i,d){var m=this.getModel();var M=m.getMetaModel();var C=this.getParent();while(!C.getEntitySet){C=C.getParent();}var e=M.getODataEntitySet(C.getEntitySet());var o=M.getODataEntityType(e.entityType);var f=C.getCustomData();var l=o["com.sap.vocabularies.UI.v1.LineItem"];var j=o["com.sap.vocabularies.UI.v1.LineItem@com.sap.vocabularies.UI.v1.Criticality"];for(var x=0;x<f.length;x++){if(f[x].getKey()&&f[x].getKey()==="lineItemQualifier"){var s=f[x].getValue();if(s){j=o["com.sap.vocabularies.UI.v1.LineItem#"+s+"@com.sap.vocabularies.UI.v1.Criticality"];break;}}}if(i===false&&d===false){return"Information";}else if(l&&j){if(j.Path){var k=j.Path;if(this.getBindingContext()){var r=this.getBindingContext();var R=r.getObject(k);if(R){switch(R.toString()){case"0":return"None";case"1":return"Error";case"2":return"Warning";case"3":return"Success";}}else{return"None";}}}else if(j.EnumMember){var n=j.EnumMember;if(n){switch(n){case"com.sap.vocabularies.UI.v1.CriticalityType/Neutral":return"None";case"com.sap.vocabularies.UI.v1.CriticalityType/Negative":return"Error";case"com.sap.vocabularies.UI.v1.CriticalityType/Critical":return"Warning";case"com.sap.vocabularies.UI.v1.CriticalityType/Positive":return"Success";}}else{return"None";}}}else{return"None";}},getDataFieldLabel:function(i,d,D){var r;if(D.Label){return sap.ui.model.odata.AnnotationHelper.format(i,D.Label);}else{r=d["sap:label"]||(d["com.sap.vocabularies.Common.v1.Label"]||"").String||"";if(r===""){var l=(d.extensions)?d.extensions.find(function(e){return e.name==="label";}):null;if(l!==undefined&&l!==null){if(l.length!==undefined&&l.length>0){r=l[0].value;}else{r=l.value;}}else{r="";}}return r;}},getDataFieldValue:function(i,d){if(d&&!d.Path&&!d.Apply&&!d.String){return"";}else{return sap.ui.model.odata.AnnotationHelper.format(i,d);}},formatObjectMarker:function(d,i,e){if(d&&i&&e){return sap.m.ObjectMarkerType.Locked;}else if(d&&i&&!e){return sap.m.ObjectMarkerType.Unsaved;}else{return sap.m.ObjectMarkerType.Flagged;}},formatObjectMarkerVisibility:function(d,i,e){if(d&&i&&e){return true;}else if(d&&i&&!e){return true;}else{return false;}},getRelevantDataForDataField:function(m,d,e){var n,o;while(d.indexOf('/')>-1){n=d.split("/")[0];d=d.split('/').slice(1).join('/');o=m.getODataAssociationEnd(e,n);e=m.getODataEntityType(o&&o.type);}return{"entityType":e,"association":o,"dataFieldValuePath":d};},getTextArrangementForSCFields:function(I,f,e,C){var m=I.getInterface(0).getModel();var o=m.getODataEntityType(e.entityType);var d=f.Value.Path;o=sap.suite.ui.generic.template.js.AnnotationHelper.getRelevantDataForDataField(m,f.Value.Path,o).entityType;var p=o.property||[];var D,t;for(var i=0;i<p.length;i++){if(d===p[i].name){D=p[i]["sap:text"];break;}}for(var j=0;j<C.length;j++){if(C[j].RecordType==="com.sap.vocabularies.UI.v1.DataField"&&C[j].Value.Path===D){return"idOnly";}}t=sap.suite.ui.generic.template.js.AnnotationHelper.getTextArrangementForSmartControl(I,f,{},e);return t;},checkMultiplicityForDataFieldAssociation:function(i,e,d){if(d.Value&&d.Value.Path){var D=d.Value.Path;var m=i.getModel(0);var o=m.getODataEntityType(e.entityType);var f;if(!(D.indexOf('/')>-1)){return true;}while(D.indexOf('/')>-1){var n=D.split("/")[0];D=D.split('/').slice(1).join('/');o=m.getODataEntityType(f&&f.type)||o;f=m.getODataAssociationEnd(o,n);}if(f&&f.multiplicity==="*"){return false;}}return true;},hasQuickViewFacet:function(I,e){var m=I.getModel();var o=m.getODataEntityType(e.entityType);var p=[];var P=[];var s,t,S,n,f;if(!o||!o.navigationProperty){return'\\{\\}';}var d=o.property||[];for(var i=0;i<d.length;i++){if(d[i]["com.sap.vocabularies.Common.v1.SemanticObject"]){p.push(d[i].name);}}for(var i=0;i<o.navigationProperty.length;i++){if(o.navigationProperty.name==="SiblingEntity"||o.navigationProperty.name==="DraftAdministrativeData"){continue;}t=m.getODataEntityType(m.getODataAssociationEnd(o,o.navigationProperty[i].name).type);if(t["com.sap.vocabularies.UI.v1.QuickViewFacets"]){S=m.getObject("/dataServices/schema");n=t.namespace;for(var j in S){if(S[j].namespace===n){s=S[j];break;}}var k;var l=s.association;var q=o.navigationProperty[i].relationship;var r=q.lastIndexOf(".");var N=q.slice(r+1);for(var j in l){if(l[j].name===N){k=l[j];break;}}var u=(k.referentialConstraint&&k.referentialConstraint.dependent&&k.referentialConstraint.dependent.propertyRef)||[];for(var j=0;j<u.length;j++){if(p.indexOf(u[j].name)!==-1){P.push(u[j].name);}}}}if(P.length){f='\\{';for(var i=0;i<P.length;i++){f+='"'+P[i]+'":"true",';}return f.slice(0,-1)+'\\}';}else{return'\\{\\}';}}};sap.suite.ui.generic.template.js.AnnotationHelper=A;sap.suite.ui.generic.template.js.AnnotationHelper.getLinkTextForDFwithIBN.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getLabelForDFwithIBN.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.isPropertySemanticKey.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getRepeatIndex.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.suppressP13NDuplicateColumns.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatWithExpandSimple.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getNavigationPathWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getFormGroupBindingString.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getCurrentPathWithExpand.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getCurrentPathWithExpandForContact.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getEntityTypesForFormPersonalization.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.actionControl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getTextArrangementForSmartControl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.matchesBreadCrumb.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13N.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForConnectedFields.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForIndicator.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForAction.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForContactPopUp.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.createP13NColumnForChart.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.hasDeterminingActionsRespectingApplicablePath.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorPercentValue.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorDisplayValue.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildExpressionForProgressIndicatorCriticality.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getEditActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getDeleteActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getSubObjPageDeleteActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.isRelatedEntityCreatable.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildBreadCrumbExpression.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getApplicablePathForChartToolbarActions.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.buildAnnotatedActionButtonEnablementExpression.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getIconTabFilterText.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatImageUrl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getPathWithExpandFromHeader.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatImageOrTypeUrl.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.formatHeaderImage.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getDataFieldLabel.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getDataFieldValue.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getActionButtonVisibility.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.checkMultiplicityForDataFieldAssociation.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.getTextArrangementForSCFields.requiresIContext=true;sap.suite.ui.generic.template.js.AnnotationHelper.hasQuickViewFacet.requiresIContext=true;})();
