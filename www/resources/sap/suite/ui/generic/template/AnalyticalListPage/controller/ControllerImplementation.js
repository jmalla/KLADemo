sap.ui.define(["jquery.sap.global","sap/ui/generic/app/navigation/service/SelectionVariant","sap/suite/ui/generic/template/AnalyticalListPage/extensionAPI/ExtensionAPI","sap/suite/ui/generic/template/AnalyticalListPage/controller/FilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/ToolbarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterBarController","sap/suite/ui/generic/template/AnalyticalListPage/controller/VisualFilterDialogController","sap/suite/ui/generic/template/AnalyticalListPage/controller/AnalyticGridController","sap/ui/table/AnalyticalTable","sap/ui/model/odata/AnnotationHelper","sap/ui/model/analytics/odata4analytics","sap/suite/ui/generic/template/AnalyticalListPage/controller/ContentAreaController","sap/suite/ui/generic/template/AnalyticalListPage/controller/IappStateHandler","sap/ui/Device","sap/m/SegmentedButtonItem","sap/m/SegmentedButton","sap/m/OverflowToolbar","sap/m/ToolbarSpacer","sap/m/library","sap/ui/model/Context","sap/suite/ui/generic/template/AnalyticalListPage/util/AnnotationHelper","sap/base/Log"],function(q,S,E,F,T,V,a,A,b,O,c,C,I,D,d,f,g,h,j,k,l,L){"use strict";var m="chart",n="visual",o="compact";return{getMethods:function(v,t,p){var s={};s.bVisualFilterInitialised=false;s._bIsStartingUp=true;function r(){var e=p.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isLeaf",e.getIsLeaf());}function u(){var e=q.sap.getObject("sap.ushell.Container.getUser"),i=p.getOwnerComponent(),J=i.getAppComponent(),M=J.getMetadata(),U=M.getManifestEntry("sap.ui"),K=(U&&U.icons&&U.icons.icon)||"",N=M.getManifestEntry("sap.app"),P=(N&&N.title)||"";var Q={bookmarkIcon:K,bookmarkAppTitle:P,bookmarkCustomUrl:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();return hasher.getHash()?("#"+hasher.getHash()):window.location.href;},bookmarkServiceUrl:function(){var W={serviceURL:null};p.onSaveAsTileExtension(W);if(W.serviceURL===null){var X=s.oSmartTable.getTable();var Y;if(X){Y=X.getBinding("rows")||X.getBinding("items");}else{Y="";}return Y?Y.getDownloadUrl()+"&$top=0&$inlinecount=allpages":"";}else{return W.serviceURL||"";}},isShareInJamActive:!!e&&e().isJamActive()};var R=p.getOwnerComponent().getModel("_templPriv");R.setProperty("/listReport/share",Q);}function w(e,i){var P=e&&e.property;return P.filter(function(J){return typeof J[i]!=="undefined";});}function x(e){var i=e.SelectOptions,P=l.resolveParameterStringValue(e.Parameters);var J=new k(null,"/");var K={};if(i){i.forEach(function(M){M.PropertyName=M.PropertyName.PropertyPath;M.Ranges.forEach(function(N){N.Sign=N.Sign.EnumMember.split("/")[1];N.Option=N.Option.EnumMember.split("/")[1];N.Low=N.Low&&O.format(J,N.Low)||null;N.High=N.High&&O.format(J,N.High)||null;});});K.SelectOptions=i;}if(P){P.forEach(function(M){M.PropertyName=M.PropertyName.PropertyPath;M.PropertyValue=O.format(J,M.PropertyValue)||null;});K.Parameters=P;}return new S(K);}function y(i){var M=i.getModel(),J=M&&M.getMetaModel(),R=J&&J.getODataEntityType(i.getEntityType()),K,N=J&&J.getODataEntityType(i.getEntityType(),true),P=l.createSVAnnotation(R,J,s.oController.getOwnerComponent().getQualifier());if(s.oController.getOwnerComponent().getFilterDefaultsFromSelectionVariant()&&P){K=x(P);}else{if(s.oController.getOwnerComponent().getFilterDefaultsFromSelectionVariant()&&!P){L.warning("No SelectionVariant found in the annotation : No default values filled in FilterBar","","ALPSmartFilterBar");}var Q=R&&w(R,"com.sap.vocabularies.Common.v1.FilterDefaultValue"),U,W,X,Y,Z,$=[];try{U=new c.Model(new c.Model.ReferenceByModel(M));Z=U&&U.findQueryResultByName(i.getEntitySet());W=Z&&Z.getParameterization();X=W&&J.getODataEntitySet(W.getEntitySet().getQName());Y=X&&J.getODataEntityType(X.entityType);$=Y?w(Y,"defaultValue"):[];}catch(e){L.error(e);}if(Q.length>0||$.length>0){K=new S();Q.forEach(function(_){var a1=J.createBindingContext(N+"/property/[${path:'name'}===\'"+_.name+"']/com.sap.vocabularies.Common.v1.FilterDefaultValue");K.addSelectOption(_.name,"I","EQ",O.format(a1));});$.forEach(function(_){K.addParameter(_.name,_.defaultValue);});}}return K;}function z(e){var i=e.getSource(),J=y(i);if(J){s.oIappStateHandler.fnSetFiltersUsingUIState(J.toJSONObject(),true,false);}s.oIappStateHandler.onSmartFilterBarInitialise();p.onInitSmartFilterBarExtension(e);p.templateBaseExtension.onInitSmartFilterBar(e);}function B(){var e=s.oIappStateHandler.onSmartFilterBarInitialized();e.then(function(){s._bIsStartingUp=false;if(s.bVisualFilterInitialised){s.oIappStateHandler.fnUpdateVisualFilterBar();}if(s.oSmartFilterableKPI){var i=s.oSmartFilterableKPI.getContent();i.forEach(function(J){if(J.getSmartFilterId){J._bStopDataLoad=false;J._updateKpiList(true);}});}},function(i){if(i instanceof Error){i.showMessageBox();}s.oIappStateHandler.fnOnError();s._bIsStartingUp=false;});}function G(e){var i=e.getParameters();var J=e.getSource();t.oCommonEventHandlers.onSemanticObjectLinkNavigationPressed(J,i);}function H(e){var i,J;i=e.getParameters();J=e.getSource();t.oCommonEventHandlers.onSemanticObjectLinkNavigationTargetObtained(J,i,s,undefined,undefined);}return{onInit:function(){var e=p.getOwnerComponent();L.setLevel(L.Level.WARNING,"ALPSmartFilterBar");var J=e.getModel("_templPriv");J.setProperty("/alp",{filterMode:e.getHideVisualFilter()?o:e.getDefaultFilterMode(),contentView:e.getDefaultContentView(),autoHide:e.getAutoHide(),visibility:{hybridView:(D.system.phone||D.system.tablet&&!D.system.desktop)?false:true},filterChanged:false});s.hideVisualFilter=e.getHideVisualFilter();s.hideVisualFilter=(s.hideVisualFilter===undefined||s.hideVisualFilter!==true)?false:true;s.oSmartFilterbar=p.byId("template::SmartFilterBar");s.oSmartTable=p.byId("table");s.oSmartFilterableKPI=p.byId("template::KPITagContainer::filterableKPIs");s.oPage=p.byId("template::Page");s.oSmartChart=p.byId("chart");if(p.getOwnerComponent().getProperty("dshQueryName")){s.oAnalyticGridContainer=p.byId("template::AnalyticGridContainer");s.oAnalyticGridController=new A();s.oAnalyticGridController.setState(s);}s.alr_compactFilterContainer=p.byId("template::CompactFilterContainer");s.alr_visualFilterContainer=p.byId("template::VisualFilterContainer");s.alr_filterContainer=p.byId("template::FilterContainer");s.alr_visualFilterBar=p.byId("template::VisualFilterBar");s.alp_ColumnListItem=p.byId("template::responsiveHightlightCol");if(s.alr_visualFilterBar){s.alr_visualFilterBar.setSmartFilterId(s.oSmartFilterbar.getId());}s.oKpiTagContainer=p.byId("template::KPITagContainer::globalKPIs");s.oFilterableKpiTagContainer=p.byId("template::KPITagContainer::filterableKPIs");if(s.oKpiTagContainer||s.oFilterableKpiTagContainer){sap.ui.require(["sap/suite/ui/generic/template/AnalyticalListPage/controller/KpiTagController"],function(i){i.init(s);});}s.oContentArea=new C();s.oTemplateUtils=t;s.toolbarController=new T();s.oController=p;s.filterBarController=new F();s.filterBarController.init(s);s.oContentArea.createAndSetCustomModel(s);s.oContentArea.setState(s);if(!s.hideVisualFilter){s.visualFilterBarContainer=new V();s.visualFilterBarContainer.init(s);}s.oIappStateHandler=new I(s,p,t.oCommonUtils.getNavigationHandler());r();u();p.byId("template::FilterText").attachBrowserEvent("click",function(){p.byId("template::Page").setHeaderExpanded(true);});J.setProperty("/listReport/isHeaderExpanded",true);if(s.oSmartTable){var K=s.oSmartTable.getTable();}var M="sapUiSizeCozy",N="sapUiSizeCompact",P="sapUiSizeCondensed";if(t.oCommonUtils.isUiTable(K)||K instanceof b){var Q=p.getView();var R=q(document.body);if(R.hasClass(M)||Q.hasStyleClass(M)){s.oSmartTable.addStyleClass(M);}else if(R.hasClass(N)||Q.hasStyleClass(N)){var U=e.getComponentContainer().getSettings().condensedTableLayout;if(U===false){s.oSmartTable.addStyleClass(N);}else{s.oSmartTable.addStyleClass(P);}}}if(s.oSmartFilterableKPI){s.oSmartFilterableKPI.setModel(e.getModel("_templPriv"),"_templPriv");var W=s.oSmartFilterableKPI.getContent(),X=s.oController;W.forEach(function(i){if(i.getSmartFilterId){i.attachBeforeRebindFilterableKPI(function(Y){var Z=Y.getParameters(),$=Z.selectionVariant,_=Z.entityType,a1=Y.getSource().getId();X.onBeforeRebindFilterableKPIExtension($,_,a1);},X);}});}v.getUrlParameterInfo=function(){return s.oIappStateHandler.getUrlParameterInfo();};v.onComponentActivate=function(){};v.refreshBinding=function(){if(s.alr_visualFilterBar&&s.alr_visualFilterBar.updateVisualFilterBindings){s.alr_visualFilterBar.updateVisualFilterBindings();}if(s.oSmartChart&&s.oSmartChart.rebindChart){s.oSmartChart.rebindChart();}if(s.oSmartTable){t.oCommonUtils.refreshSmartTable(s.oSmartTable);}if(s.oKpiTagContainer){var Y=s.oKpiTagContainer.mAggregations.content;for(var i in Y){if(Y[i]._createGlobalKpi){Y[i]._createGlobalKpi();}}}if(s.oFilterableKpiTagContainer){var Y=s.oFilterableKpiTagContainer.mAggregations.content;for(var i in Y){if(Y[i]._createFilterableKpi){Y[i]._createFilterableKpi();}}}};if(s.alr_visualFilterBar){s.alr_visualFilterBar.attachInitialized(function(i){s.bVisualFilterInitialised=true;if(!s._bIsStartingUp){s.oIappStateHandler.fnUpdateVisualFilterBar();}});}s.oSmartFilterbar.attachFilterChange(function(i){var Y=s.oSmartChart&&s.oSmartChart.getChart()&&s.oSmartChart.getDrillStackFilters();var J=e.getModel("_templPriv");if(Y&&Y.length){J.setProperty('/alp/_ignoreChartSelections',false);}else{J.setProperty('/alp/_ignoreChartSelections',true);}s.oIappStateHandler.fnCheckMandatory();var Z=s.oSmartFilterbar.isDialogOpen();var $=i.getSource(),_;_=q.extend(true,{},$.getFilterData(true));if(Z&&s.visualFilterDialogContainer){var a1=s.visualFilterDialogContainer.oVerticalBox.getModel("_dialogFilter");a1.setData(_);}else{var b1=s.oController.getOwnerComponent().getModel("_filter");b1.setData(_);}if(i.getParameters().filterItem){if(!s.hideVisualFilter){s.filterBarController.changeVisibility(i);}J.setProperty('/alp/_ignoreChartSelections',false);}s.filterBarController._updateFilterLink();if(!s.oSmartFilterbar.isLiveMode()&&!s.oSmartFilterbar.isDialogOpen()){if(s.oSmartFilterableKPI&&s.oSmartFilterableKPI.getEnabled()){J.setProperty('/alp/filterChanged',true);}}});},handlers:{onBack:function(){t.oServices.oNavigationController.navigateBack();},addEntry:function(e){var i=e.getSource();t.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){t.oCommonEventHandlers.addEntry(i,false,s.oSmartFilterbar);},q.noop,s);},deleteEntries:function(e){t.oCommonEventHandlers.deleteEntries(e);},onSelectionChange:function(e){var J=e.getSource(),M=J.getModel(),P=J.getModel("_templPriv");var K=M.getMetaModel(),N=K.getODataEntitySet(this.getOwnerComponent().getEntitySet()),Q=N["Org.OData.Capabilities.V1.DeleteRestrictions"];var R=(Q&&Q.Deletable&&Q.Deletable.Path)?Q.Deletable.Path:"";var U=false;var W=true;var X=(R&&R!=="");var Y=t.oCommonUtils.getSelectedContexts(J);if(Y.length>0){for(var i=0;i<Y.length;i++){var Z=M.getObject(Y[i].getPath());if(!(Z.IsActiveEntity&&Z.HasDraftEntity&&Z.DraftAdministrativeData&&Z.DraftAdministrativeData.InProcessByUser)){W=false;}if(X){if(M.getProperty(R,Y[i])){X=false;}}if(!W&&!X){U=true;break;}}}P.setProperty("/listReport/deleteEnabled",U);},onChange:function(e){t.oCommonEventHandlers.onChange(e);},onSmartFieldUrlPressed:function(e){t.oCommonEventHandlers.onSmartFieldUrlPressed(e,s);},onContactDetails:function(e){t.oCommonEventHandlers.onContactDetails(e);},onSmartFilterBarInitialise:z,onSmartFilterBarInitialized:B,onEditStateFilterChanged:function(e){e.getSource().fireChange();},onFilterPress:function(e){s.filterBarController.showDialog.call(s.filterBarController);},onClearPress:function(e){s.filterBarController.clearFilters();p.onClearFilterExtension(e);},onGoPress:function(e){s.filterBarController.onGoFilter();},onBeforeSFBVariantSave:function(){if(s.oSmartFilterbar.isDialogOpen()&&!s.hideVisualFilter){s.visualFilterDialogContainer._updateFilterBarFromDialog.call(s.visualFilterDialogContainer);}var e=s.oIappStateHandler.getCurrentAppState();if(!this.getOwnerComponent().getProperty('smartVariantManagement')){delete e.customData["sap.suite.ui.generic.template.genericData"].contentView;}s.oSmartFilterbar.setFilterData({_CUSTOM:e.customData});},onAfterSFBVariantLoad:function(e){if(!s.oSmartFilterbar.isDialogOpen()){s.filterBarController._afterSFBVariantLoad();}},onBeforeRebindTable:function(e){t.oCommonEventHandlers.onBeforeRebindTable(e);p.onBeforeRebindTableExtension(e);},onBeforeRebindChart:function(e){},onShowDetails:function(e){t.oCommonEventHandlers.onShowDetails(e.getSource(),s);},onListNavigate:function(e){if(!p.onListNavigationExtension(e)){t.oCommonEventHandlers.onListNavigate(e.getSource(),s);}},onCallActionFromToolBar:function(e){var i=t.oCommonUtils.getParentTable;t.oCommonUtils.getParentTable=function(){return s.oSmartTable;};t.oCommonEventHandlers.onCallActionFromToolBar(e,s);t.oCommonUtils.getParentTable=i;i=null;},onShowDetailsIntent:function(e){t.oCommonEventHandlers.onShowDetailsIntent(e,s.oSmartFilterbar);},onCallActionFromList:function(e){},onDataFieldForIntentBasedNavigation:function(e){t.oCommonEventHandlers.onDataFieldForIntentBasedNavigation(e,s);},onDataFieldWithIntentBasedNavigation:function(e){t.oCommonEventHandlers.onDataFieldWithIntentBasedNavigation(e,s);},onBeforeSemanticObjectLinkPopoverOpens:function(e){var i=e.getParameters();t.oCommonUtils.processDataLossConfirmationIfNonDraft(function(){var J=s.oSmartFilterbar.getUiState({allFilters:false}).getSelectionVariant();t.oCommonUtils.semanticObjectLinkNavigation(i,J,p);},q.noop,s,q.noop);},onAssignedFiltersChanged:function(e){if(e&&e.getSource()){if(s&&s.oSmartFilterbar&&s.filterBarController){p.byId("template::FilterText").setText(s.oSmartFilterbar.retrieveFiltersWithValuesAsText());}}},onToggleFiltersPressed:function(){var e=p.getOwnerComponent();var i=e.getModel("_templPriv");i.setProperty("/listReport/isHeaderExpanded",(i.getProperty("/listReport/isHeaderExpanded")===true)?false:true);},onSearchButtonPressed:function(){if(D.system.phone&&s.oPage.getHeaderExpanded()){s.oPage.setHeaderExpanded(false);}var M=p.getOwnerComponent().getModel();if(s.oSmartFilterableKPI&&!s.oSmartFilterableKPI.getEnabled()){s.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/filterChanged',false);}M.attachEventOnce("requestSent",function(){if(!s._bIsStartingUp){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();}else{s.oIappStateHandler.fnResolveStartUpPromise();}});s.oController.getOwnerComponent().getModel("_templPriv").setProperty('/alp/_ignoreChartSelections',true);t.oCommonUtils.refreshModel(s.oSmartTable);},onSemanticObjectLinkPopoverLinkPressed:function(e){t.oCommonEventHandlers.onSemanticObjectLinkPopoverLinkPressed(e,s);},onSemanticObjectLinkNavigationPressed:G,onSemanticObjectLinkNavigationTargetObtained:H,onAfterTableVariantSave:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onAfterApplyTableVariant:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onAfterChartVariantSave:function(e){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();t.oCommonUtils.setEnabledToolbarButtons(e.getSource());},onAfterApplyChartVariant:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onFilterModeSegmentedButtonChange:function(e){s.filterBarController.handleFilterSwitch(e.getParameter("key"),e.oSource._bApplyingVariant);s.oController._templateEventHandlers.onSegmentButtonPressed();},onContentViewSegmentButtonPressed:function(e){if(e.getParameter("key")==="crosstable"&&!s.oAnalyticGrid){s.oAnalyticGridController.initAnalyticGrid();}if(!s.oSmartFilterableKPI&&!s.oController.getOwnerComponent().getContentTitle()){var i=s.oController.getView(),J;if(e.getSource().getSelectedKey()==="customview1"){J="template::contentViewExtensionToolbar";}else if(e.getSource().getSelectedKey()==="customview2"){J="template::contentViewExtension2Toolbar";}else if(e.getSource().getSelectedKey()==="chart"||e.getSource().getSelectedKey()==="charttable"){J=i.byId("template::masterViewExtensionToolbar")?"template::masterViewExtensionToolbar":"template::ChartToolbar";}else if(e.getSource().getSelectedKey()==="table"){J="template::TableToolbar";}s.oController._templateEventHandlers.setFocusOnContentViewSegmentedButtonItem(i,J);}s.oController._templateEventHandlers.onSegmentButtonPressed(!s.oController.getOwnerComponent().getProperty('smartVariantManagement'));},setFocusOnContentViewSegmentedButtonItem:function(e,i){var J=e.byId(i);if(J){var K=J.getContent().length,M=J.getContent()[K-1];if(M){M.addEventDelegate({onAfterRendering:function(N){N.srcControl.focus();}});}}},onSegmentButtonPressed:function(i){if(!i){s.oController.byId('template::PageVariant').currentVariantSetModified(true);s.oSmartFilterbar.setFilterData({_CUSTOM:s.oIappStateHandler.getFilterState()});}s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onShareListReportActionButtonPress:function(e){if(!s.oShareActionSheet){s.oShareActionSheet=t.oCommonUtils.getDialogFragment("sap.suite.ui.generic.template.fragments.lists.ShareSheet",{shareEmailPressed:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();j.URLHelper.triggerEmail(null,t.oCommonUtils.getText("EMAIL_HEADER",[t.oServices.oApplication.getAppTitle()]),document.URL);},shareJamPressed:function(){s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();var i=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:document.URL,share:t.oServices.oApplication.getAppTitle()}}});i.open();}},"share",function(i,J){var R=sap.ui.getCore().getLibraryResourceBundle("sap.m");J.setProperty("/emailButtonText",R.getText("SEMANTIC_CONTROL_SEND_EMAIL"));J.setProperty("/jamButtonText",R.getText("SEMANTIC_CONTROL_SHARE_IN_JAM"));J.setProperty("/bookmarkButtonText",R.getText("SEMANTIC_CONTROL_SAVE_AS_TILE"));var K=q.sap.getObject("sap.ushell.Container.getUser");J.setProperty("/jamVisible",!!K&&K().isJamActive());i.openBy(e.getSource());});}else{s.oShareActionSheet.openBy(e.getSource());}},onDeterminingDataFieldForAction:function(e){var i=s.oController.getOwnerComponent().getModel("_templPriv");var J=i.getProperty('/alp/contentView');var K=(J===m)?s.oSmartChart:s.oSmartTable;t.oCommonEventHandlers.onDeterminingDataFieldForAction(e,K);},onDeterminingDataFieldForIntentBasedNavigation:function(e){var i=e.getSource();var J=s.oController.getOwnerComponent().getModel("_templPriv");var K=J.getProperty('/alp/contentView');var M=(K===m)?s.oSmartChart:s.oSmartTable.getTable();t.oCommonEventHandlers.onDeterminingDataFieldForIntentBasedNavigation(i,M,s);},onInlineDataFieldForAction:function(e){t.oCommonEventHandlers.onInlineDataFieldForAction(e,s);},onInlineDataFieldForIntentBasedNavigation:function(e){t.oCommonEventHandlers.onInlineDataFieldForIntentBasedNavigation(e.getSource(),s);},onAutoHideToggle:function(){s.oSmartTable.getModel("_tableHighlight").setProperty("/highlightMode","eyeModeSwitch");s.chartController&&s.chartController._updateTable();s.oIappStateHandler.fnStoreCurrentAppStateAndAdjustURL();},onFullScreenToggled:function(e){var i=e.getParameter("fullScreen");var J=e.getSource().getModel("_templPriv");J.setProperty("/alp/fullScreen",i);},onDialogClosed:function(e){s.visualFilterDialogContainer._closeDialog.call(s.visualFilterDialogContainer);},onDialogOpened:function(e){var i=s.oSmartFilterbar.getFilterDialogContent();if(!s.visualFilterDialogContainer){s.visualFilterDialogContainer=new a();s.visualFilterDialogContainer.init(s);}if(i.length<2){var J=[new d({icon:"sap-icon://filter-fields",width:"inherit",key:o,tooltip:"{i18n>FILTER_COMPACT}"}),new d({icon:"sap-icon://filter-analytics",width:"inherit",key:n,tooltip:"{i18n>FILTER_VISUAL}",enabled:"{_templPriv>/alp/searchable}"})];var K=new f({width:"inherit",selectedKey:o,items:J,select:function(e){var Q=e.getSource();Q.setSelectedKey(o);s.visualFilterDialogContainer._toggle.call(s.visualFilterDialogContainer);}}).addEventDelegate({onAfterRendering:function(e){if(e.srcControl.getCustomData()[0]&&e.srcControl.getCustomData()[0].getValue()){e.srcControl.focus();e.srcControl.removeAllCustomData();}}});var M=s.visualFilterDialogContainer._createForm();s.oSmartFilterbar.addFilterDialogContent(M);var N=new g({design:j.ToolbarDesign.Transparent,content:[new h(),K]}).addStyleClass("sapSmartTemplatesAnalyticalListPageFilterDialogToolbar");i[0].setToolbar(N);K.setModel(s.oController.getView().getModel("_templPriv"),"_templPriv");}var P=s.oController.getView().getModel("_templPriv");if(P.getProperty("/alp/searchable")){if(P.getProperty("/alp/filterMode")===n){s.oSmartFilterbar.addFilterDialogContent(i[1]);if(D.system.desktop&&(!D.system.phone||!D.system.tablet)){s.oSmartFilterbar.setContentWidth(790);s.oSmartFilterbar.setContentHeight(685);}else if(D.system.tablet){if(D.orientation.portrait){s.oSmartFilterbar.setContentWidth(400);s.oSmartFilterbar.setContentHeight(720);}else if(D.orientation.landscape){s.oSmartFilterbar.setContentWidth(512);s.oSmartFilterbar.setContentHeight(861);}}}else{s.oSmartFilterbar.addFilterDialogContent(i[0]);}}else{s.oSmartFilterbar.addFilterDialogContent(i[0]);}},onSearchForFilters:function(e){s.visualFilterDialogContainer._triggerSearchInFilterDialog.call(s.visualFilterDialogContainer,e);},onDialogSearch:function(e){s.visualFilterDialogContainer._searchDialog.call(s.visualFilterDialogContainer);},onDialogClear:function(e){p.onClearFilterExtension(e);},onRestore:function(e){s.visualFilterDialogContainer._restoreDialog.call(s.visualFilterDialogContainer);},onDataReceived:function(e){s.oContentArea.enableToolbar();t.oCommonEventHandlers.onDataReceived(e);},onRowSelectionChange:function(e){var i=e.getSource();t.oCommonUtils.setEnabledToolbarButtons(i);}},extensionAPI:new E(t,p,s)};}};});
